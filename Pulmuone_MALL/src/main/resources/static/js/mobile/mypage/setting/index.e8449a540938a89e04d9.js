(function(t){function a(a){for(var s,l,i=a[0],o=a[1],c=a[2],m=0,u=[];m<i.length;m++)l=i[m],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&u.push(n[l][0]),n[l]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);_&&_(a);while(u.length)u.shift()();return r.push.apply(r,c||[]),e()}function e(){for(var t,a=0;a<r.length;a++){for(var e=r[a],s=!0,i=1;i<e.length;i++){var o=e[i];0!==n[o]&&(s=!1)}s&&(r.splice(a--,1),t=l(l.s=e[0]))}return t}var s={},n={"mobile/mypage/setting/index":0},r=[];function l(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,l),e.l=!0,e.exports}l.m=t,l.c=s,l.d=function(t,a,e){l.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,a){if(1&a&&(t=l(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(l.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)l.d(e,s,function(a){return t[a]}.bind(null,s));return e},l.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(a,"a",a),a},l.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},l.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=a,i=i.slice();for(var c=0;c<i.length;c++)a(i[c]);var _=o;r.push([74,"chunk-commons"]),e()})({"1c40":function(t,a,e){"use strict";var s=e("3d09"),n=e.n(s);n.a},"3d09":function(t,a,e){},74:function(t,a,e){t.exports=e("effb")},effb:function(t,a,e){"use strict";e.r(a);var s=e("5530"),n=(e("e260"),e("e6cf"),e("cca6"),e("a79d"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",{staticClass:"fb__mypage fb__mypage__setting"},[e("fb-header",{attrs:{type:"sub",title:t.pageTitle,news:t.isReadAlarm,color:"#000000",background:"#ffffff",buttons:["back","home","alarm"],actions:["alarm"]},on:{"handle-alarm":t.handleAlarm}}),e("div",{staticClass:"setting"},[e("section",{staticClass:"setting__box setting__box__alarm"},[e("h3",{staticClass:"setting__box__title"},[t._v("알림")]),t.isAppPushSetting?e("div",{staticClass:"setting__box__content"},[e("div",{staticClass:"alarm__type"},[e("div",{staticClass:"alarm__set"},[e("span",{staticClass:"alarm__set__name"},[t._v("마케팅(광고성) 앱푸시 알림 받기")]),e("label",{staticClass:"alarm__set__btn",class:{active:"Y"==t.marketingAlarm},attrs:{for:"toggle_button1"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.marketingAlarm,expression:"marketingAlarm"}],staticClass:"checkbox checkbox1",attrs:{id:"toggle_button1",type:"checkbox","true-value":"Y","false-value":"N"},domProps:{checked:Array.isArray(t.marketingAlarm)?t._i(t.marketingAlarm,null)>-1:t._q(t.marketingAlarm,"Y")},on:{click:function(a){return a.preventDefault(),t.updateMarketingPush("push",t.marketingAlarm)},change:function(a){var e=t.marketingAlarm,s=a.target,n=s.checked?"Y":"N";if(Array.isArray(e)){var r=null,l=t._i(e,r);s.checked?l<0&&(t.marketingAlarm=e.concat([r])):l>-1&&(t.marketingAlarm=e.slice(0,l).concat(e.slice(l+1)))}else t.marketingAlarm=n}}}),t._m(0)])]),e("p",{staticClass:"alarm__detail"},[t._v("#풀무원에서 제공하는 쿠폰, 이벤트, 기획전 등 다양한 할인 혜택 및 마케팅 정보를 받으실 수 있습니다.")])]),e("div",{staticClass:"alarm__type"},[e("div",{staticClass:"alarm__set"},[e("span",{staticClass:"alarm__set__name"},[t._v("야간 알림 허용")]),e("label",{ref:"night_alarm",staticClass:"alarm__set__btn",class:{active:"Y"==t.nightAlarm},attrs:{for:"toggle_button2"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.nightAlarm,expression:"nightAlarm"}],staticClass:"checkbox checkbox2",attrs:{id:"toggle_button2",type:"checkbox","true-value":"Y","false-value":"N",disabled:"Y"!=t.marketingAlarm},domProps:{checked:Array.isArray(t.nightAlarm)?t._i(t.nightAlarm,null)>-1:t._q(t.nightAlarm,"Y")},on:{click:function(a){return a.preventDefault(),t.updateMarketingPush("night",t.nightAlarm)},change:function(a){var e=t.nightAlarm,s=a.target,n=s.checked?"Y":"N";if(Array.isArray(e)){var r=null,l=t._i(e,r);s.checked?l<0&&(t.nightAlarm=e.concat([r])):l>-1&&(t.nightAlarm=e.slice(0,l).concat(e.slice(l+1)))}else t.nightAlarm=n}}}),t._m(1)])]),e("p",{staticClass:"alarm__detail"},[t._v("야간 시간 (22:00~08:00) 의 마케팅(광고성) 푸시 알림 수신을 허용합니다.")])])]):e("div",{staticClass:"setting__box__content"},[e("div",{staticClass:"alarm__allow",on:{click:t.openDeviceSettings}},[t._m(2),e("p",{staticClass:"alarm__detail alarm__allow__detail"},[t._v("* PUSH 알림이 오지 않으시면 [휴대폰 > 설정 > #풀무원 > 알림] 에서 ‘알림 허용’ 으로 설정해주세요.")])])])]),e("section",{staticClass:"setting__box setting__box__version"},[e("h3",{staticClass:"setting__box__title"},[t._v("버전")]),e("div",{staticClass:"setting__box__content"},[e("div",{staticClass:"version__type"},[e("div",{staticClass:"version__update"},[e("div",{staticClass:"version__update__name name"},[e("span",{staticClass:"name__box name__txt"},[t._v("현재 버전")]),e("span",{staticClass:"name__box name__num"},[t._v(t._s(t.deviceVersion))])]),t.isLatestVersion?t._e():e("a",{staticClass:"version__update__btn",attrs:{href:t.$APP_CONFIG.DEVICE_UPDATE_URL,target:"_blank"},on:{click:function(a){return t.setOpenExternalBrowser(a)}}},[t._v("업데이트")])]),t.isLatestVersion?e("p",{staticClass:"version__detail"},[t._v("최신 버전입니다.")]):e("p",{staticClass:"version__detail"},[t._v("업데이트하실 수 있습니다.")])])])])]),e("fb-alert",{attrs:{open:t.alert.open,message:t.alert.message},on:{"close-alert":function(a){return t.closeAlert(a)}}}),e("fb-modal",t._b({on:{"close-modal":t.closeAlarmModal}},"fb-modal",t.modals.alarm,!1),[[e("div",{staticClass:"alarm-modal__body"},[e("section",{staticClass:"alarm-modal__contents"},[e("h2",{staticClass:"alarm-modal__title"},[t._v("#풀무원에서 발송하는 쇼핑 알림 서비스에 대한 "+t._s(t.alarm.message)+" 처리가 완료되었습니다.")]),e("dl",{staticClass:"alarm-modal__item"},[e("dd",[t._v("전송자 :")]),e("dt",[t._v("#풀무원")])]),e("dl",{staticClass:"alarm-modal__item"},[e("dd",[t._v("변경일 :")]),e("dt",[t._v(t._s(t.alarm.updatedDate))])]),e("dl",{staticClass:"alarm-modal__item"},[e("dd",[t._v("변경내용 :")]),e("dt",[t._v(t._s(t.alarm.message))])])]),e("footer",{staticClass:"alarm-modal__footer"},[e("button",{staticClass:"alarm-modal__confirm",attrs:{type:"button"},on:{click:t.closeAlarmModal}},[t._v("확인")])])])]],2),e("long-press",{ref:"longPress",staticClass:"longpress",attrs:{duration:"3","on-confirm":t.onLongPressStart,"pressing-text":" ","action-text":" "},on:{touchstart:function(t){t.preventDefault()}}})],1)}),r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"btn"},[e("span",{staticClass:"btn__slider"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"btn"},[e("span",{staticClass:"btn__slider"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"alarm__set"},[e("span",{staticClass:"alarm__set__name"},[t._v("디바이스 설정에서 알림을 켜주세요.")]),e("button",{staticClass:"goBtn",attrs:{type:"button"}})])}],l=(e("96cf"),e("1da1")),i=e("8e32"),o=e("629b"),c=e("cbaa"),_=e("face"),m=e("2479"),u=e("1891"),d=e("bb69"),p=e.n(d),f=e("c1df"),g=e.n(f),h={name:"mypage-setting",mixins:[u["a"]],components:{fbHeader:i["a"],fbFooter:o["a"],fbDockbar:c["a"],fbAlert:_["a"],fbModal:m["a"],LongPress:p.a},data:function(){return{pageTitle:"설정",marketingAlarm:"N",nightAlarm:"N",alarm:{updatedDate:"",message:""},modals:{alarm:{open:!1,classes:"alarm-modal",isCloseButton:!1,isMaskBackground:!1,isScrollLock:!0,isBackgroundClose:!0}}}},created:function(){window.setDevicePushAllowed=this.setDevicePushAllowed,window.setPushReadStatus=this.setPushReadStatus,this.getDevicePushAllowed(),this.getPushReadStatus()},computed:{},watch:{push:{handler:function(t){this.marketingAlarm=t.pushAllowedYn,this.nightAlarm=t.nightAllowedYn},deep:!0,immediate:!0}},methods:{handleAlarm:function(){this.pushListClick()},onLongPressStart:function(t){var a,e;this.openAdminSettings(),console.log("a"),null===(a=this.refs)||void 0===a||null===(e=a["longPress"])||void 0===e||e.reset()},onLongPressStop:function(t){},updateMarketingPush:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"push",e=arguments.length>1?arguments[1]:void 0;return Object(l["a"])(regeneratorRuntime.mark((function s(){var n,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n="Y"==e?"N":"Y",s.next=3,t.requestUpdatePushAllowed(a,n);case 3:if(r=s.sent,!r){s.next=13;break}if("push"!=a||"N"!=n){s.next=10;break}t.$nextTick((function(){t.openAlarmModal(!1)})),t.updateMarketingPush("night","Y"),s.next=13;break;case 10:return s.next=12,t.setDevicePushAllowed(t.push.appPushSettingYn);case 12:"push"===a&&t.$nextTick((function(){t.openAlarmModal(!0)}));case 13:case"end":return s.stop()}}),s)})))()},openAlarmModal:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.alarm.updatedDate=g()().format(this.$APP_CONFIG.DATE_FORMAT_DEFAULT),this.alarm.message=t?"수신 동의":"수신 거부",this.openModal("alarm")},closeAlarmModal:function(){this.closeModal("alarm")}}},v=h,b=(e("1c40"),e("2877")),A=Object(b["a"])(v,n,r,!1,null,null,null),k=A.exports,C=e("dd69");C["c"].components=Object(s["a"])({App:k},C["c"].components),C["d"].dispatch("init").then((function(){return new C["a"](C["c"])}))}});