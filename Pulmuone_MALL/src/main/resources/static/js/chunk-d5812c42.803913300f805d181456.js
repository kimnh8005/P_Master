(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d5812c42"],{a503:function(t,i,e){"use strict";e("99af"),e("7db0"),e("c740"),e("a630"),e("caad"),e("a15b"),e("d81d"),e("d3b7"),e("07ac"),e("6062"),e("2532"),e("3ca3"),e("ddb0"),e("96cf");var n=e("1da1"),a=e("a7ee"),o=e("c1df"),s=e.n(o),l={name:"goods-view-diet",props:{info:{type:Object,required:!0}},data:function(){return{requests:{diets:{ilGoodsId:null,startDate:null,endDate:null,bulkYn:"N"}},modals:{estimatedArrivalDate:this.makeModal(),diet:this.makeModal({classes:"diet-modal__wrapper",caches:[]})},diets:{fetches:{},yearMonth:s()().format("YYYY-MM"),today:s()(),date:s()(),shipping:"daily",model:{},calendar:{masks:{title:"YYYY년 MM월",weekdays:"WWW"}},datePicker:{masks:{title:"YYYY년 MM월",weekdays:"WWW"},model:null},showNextWeek:!1}}},computed:{fetchKey:function(){var t=this.requests.diets;return Object.values(t).join("-")},hasDiets:function(){var t,i=null===(t=this.diets.model)||void 0===t?void 0:t[this.fetchKey];return!!(null===i||void 0===i?void 0:i.length)},isBabyMeal:function(){return this.$FB_CODES.MALL_TYPES.BABY_MEAL===this.info.meal.mallDiv},canBatchShipping:function(){var t,i;return"Y"===this.info.goodsDailyBulkYn&&(null===(t=this.info.meal)||void 0===t||null===(i=t.deliveryDateList)||void 0===i?void 0:i.length)},showChangeShippingType:function(){return this.isBabyMeal&&this.canBatchShipping},isEatsSlim:function(){return this.$FB_CODES.MALL_TYPES.EATS_SLIM===this.info.meal.mallDiv},disabledEatsSlimPrevSchedule:function(){return!this.isEatsSlim||this.diets.today.isSameOrAfter(this.diets.date)&&this.diets.date.weeks()<=this.diets.today.weeks()},eatsSlimScheduleHeading:function(){return"".concat(s()(this.requests.diets.startDate).format("[<em>]MM[</em>]월 [<em>]DD[</em>]일")," ~ ").concat(s()(this.requests.diets.endDate).format("[<em>]MM[</em>]월 [<em>]DD[</em>]일"))},eatsSlimWeekDates:function(){for(var t=s()(this.requests.diets.endDate),i=[],e=0,n=t.diff(this.requests.diets.startDate,"day")+1;e<n;e++){var a=t.clone().subtract(e,"day");0!==a.days()&&6!==a.days()&&i.unshift(t.clone().subtract(e,"day"))}return i},eatsSlimWeekHeaderDates:function(){var t;return null===(t=this.eatsSlimWeekDates)||void 0===t?void 0:t.map((function(t){return t.format("[<em>]MM[</em>]월[<em>]DD[</em>]일 (dd)")}))},shippingDisabledDates:function(){for(var t=this.info.meal.deliveryDateList,i=s()(this.firstShippingArrivalDate),e=s()(this.lastShippingArrivalDate),n=[],a=0,o=s()(e).diff(i,"day");a<o;a++){var l=i.clone().add(a,"day");t.includes(l.format("YYYY-MM-DD"))||n.push(l.toDate())}return n},shippingArrivalDates:function(){var t,i,e,n=Array.from(new Set((null===(t=this.info.meal)||void 0===t?void 0:t.deliveryDateList)||[]));return null===(i=this.splitConsecutiveDateRanges(n))||void 0===i||null===(e=i.map)||void 0===e?void 0:e.call(i,(function(t){return{start:s()(t[0]).toDate(),end:s()(t[1]).toDate()}}))},firstShippingArrivalDate:function(){var t,i,e;return null===(t=s()(null===(i=this.shippingArrivalDates)||void 0===i||null===(e=i[0])||void 0===e?void 0:e.start))||void 0===t?void 0:t.toDate()},lastShippingArrivalDate:function(){var t,i,e,n;return null===(t=s()(null===(i=this.shippingArrivalDates)||void 0===i||null===(e=i[(null===(n=this.shippingArrivalDates)||void 0===n?void 0:n.length)-1])||void 0===e?void 0:e.end))||void 0===t?void 0:t.toDate()}},watch:{"diets.yearMonth":{handler:function(t,i){this.reload(null,"diets")}},"diets.shipping":{handler:function(t,i){this.reload(null,"diets")}}},created:function(){this.requests.diets.ilGoodsId=this.info.ilGoodsId,this.updateDietsParameters(),this.requestDiets(),this.initBabyMeal(),this.initEatsSlim()},methods:{requestDiets:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var e;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e=t.diets.fetches,i.prev=1,i.t0=t,i.t1=t.diets.model,i.t2=t.fetchKey,i.next=7,a["a"].getMonthlyDiets(t.requests.diets,{willPrevCancel:!0});case 7:i.t3=i.sent,i.t0.$set.call(i.t0,i.t1,i.t2,i.t3),e[t.fetchKey]=t.$FB_CODES.FETCHES.SUCCESS,i.next=15;break;case 12:i.prev=12,i.t4=i["catch"](1),t.isNonHandlingException(i.t4)||t.has.call(e,t.fetchKey)&&(e[t.fetchKey]=t.$FB_CODES.FETCHES.ERROR);case 15:case"end":return i.stop()}}),i,null,[[1,12]])})))()},updateDietsParameters:function(){try{var t=this.requests.diets,i=null;return t.bulkYn="batch"===this.diets.shipping?"Y":"N",this.isBabyMeal?"daily"===this.diets.shipping?(i=s()(this.diets.yearMonth),t.startDate=i.format("YYYY-MM-DD"),t.endDate=i.clone().endOf("month").format("YYYY-MM-DD")):(i=this.diets.date,t.startDate=i.format("YYYY-MM-DD"),t.endDate=t.startDate):this.isEatsSlim&&(i=this.diets.date.clone().weekday(),t.startDate=this.diets.date.clone().subtract(i-1,"day").format("YYYY-MM-DD"),t.endDate=this.diets.date.clone().add(5-i,"day").format("YYYY-MM-DD")),this.has.call(this.diets.fetches,this.fetchKey)||this.$set(this.diets.fetches,this.fetchKey,this.$FB_CODES.FETCHES.WAIT),!0}catch(e){return!1}},hasDietsInDay:function(t){var i,e;return-1<(null===(i=this.diets.model)||void 0===i||null===(e=i.findIndex)||void 0===e?void 0:e.call(i,(function(i){var e;return i.deliveryDate===((null===t||void 0===t||null===(e=t.format)||void 0===e?void 0:e.call(t,"YYYY-MM-DD"))||t)})))},hasNormalDietsInDay:function(t){var i;return!!(null===(i=this.getNormalDietsInDay(t))||void 0===i?void 0:i.length)},hasAlternativeDietsInDay:function(t){var i;return!!(null===(i=this.getAlternativeDietsInDay(t))||void 0===i?void 0:i.length)},isHoliday:function(t){var i;return"Y"===(null===(i=this.getDietsInDay(t))||void 0===i?void 0:i.holidayYn)},isEmpty:function(t){return!this.getDietsInDay(t)},getDietsInDay:function(t){var i,e,n;return null===(i=this.diets.model)||void 0===i||null===(e=i[this.fetchKey])||void 0===e||null===(n=e.find)||void 0===n?void 0:n.call(e,(function(i){var e;return i.deliveryDate===((null===t||void 0===t||null===(e=t.format)||void 0===e?void 0:e.call(t,"YYYY-MM-DD"))||t)}))},getNormalDietsInDay:function(t){var i;return null===(i=this.getDietsInDay(t))||void 0===i?void 0:i.basic},getAlternativeDietsInDay:function(t){var i;return null===(i=this.getDietsInDay(t))||void 0===i?void 0:i.noAllergy},initBabyMeal:function(){this.isBabyMeal&&this.firstShippingArrivalDate&&(this.diets.date=s()(this.firstShippingArrivalDate))},openModifyEstimatedArrivalDateModal:function(){this.diets.datePicker.model=this.diets.date.toDate(),this.openModal("estimatedArrivalDate")},handleApplyModifyEstimatedDate:function(t){t.date&&(this.diets.date=s()(t.date),this.reload(t,"diets")),this.closeModal("estimatedArrivalDate")},initEatsSlim:function(){this.isEatsSlim},moveWeek:function(t){this.diets.date="prev"===t?s()(this.diets.date).subtract(7,"days"):s()(this.diets.date).add(7,"days"),this.reload(null,"diets")},handleEatsSlimPrevMonth:function(){this.isEatsSlim?this.moveWeek("prev"):this.onPageError()},handleEatsSlimNextMonth:function(){this.isEatsSlim?this.moveWeek("next"):this.onPageError()},handleOpenDietDetailModal:function(t,i){var e=this.modals.diet,n=e.caches.find((function(t){return t.ilGoodsDailyMealContsCd===i.ilGoodsDailyMealContsCd}));this.openModal("diet",{model:{id:i.ilGoodsDailyMealContsCd,data:n}})},handleFetchedDiet:function(t){this.modals.diet.caches.push(t)},onPageError:function(){window.location.href=this.$APP_CONFIG.PAGE_URL.ERROR},reload:function(t,i){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(e.data,e.isRefresh);switch(i){case"diets":this.updateDietsParameters()?(n||!n&&this.$FB_CODES.FETCHES.SUCCESS!==this.diets.fetches[this.fetchKey])&&(this.diets.fetches[this.fetchKey]=this.$FB_CODES.FETCHES.WAIT,this.requestDiets()):this.openAlert(this.$FB_MESSAGES.ERROR.DEFAULT);break;default:console.warn("not allowed type...",i);break}}}};i["a"]=l},aa4a:function(t,i,e){"use strict";e("a623"),e("a9e3"),e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("841c"),e("ddb0"),e("2b3d"),e("96cf");var n=e("1da1"),a=e("a7ee");i["a"]={name:"diet",props:{dietId:{type:[Number,String],default:function(){var t=new URLSearchParams(window.location.search);return t.get("id")}},cache:{type:Object}},data:function(){return{fetches:{diet:this.$FB_CODES.FETCHES.WAIT},requests:{diet:{ilGoodsDailyMealContsCd:null}},diet:null}},computed:{hasDiet:function(){return!!this.diet},hasDietTypes:function(){var t;return!!(null===(t=this.diet.fooditemIconList)||void 0===t?void 0:t.length)},isBabyMeal:function(){var t;return this.$FB_CODES.MALL_TYPES.BABY_MEAL===(null===(t=this.diet)||void 0===t?void 0:t.mallDiv)},isEatsSlim:function(){var t;return this.$FB_CODES.MALL_TYPES.EATS_SLIM===(null===(t=this.diet)||void 0===t?void 0:t.mallDiv)},hasAllergy:function(){var t;return!(null===(t=this.allergyValues)||void 0===t?void 0:t.every((function(t){return null===t||void 0===t})))},allergyNames:function(){return["계란","우유","새우","고등어","오징어","게","조개류","돼지고기","쇠고기","닭고기","메밀","밀","대두","땅콩","호두","잣","아황산류","복숭아","토마토"]},allergyIcons:function(){return["/assets/".concat(this.platform.replace("desktop","pc"),"/images/common/icon-40-egg.svg"),"/assets/".concat(this.platform.replace("desktop","pc"),"/images/common/icon-40-milk.svg"),"/assets/".concat(this.platform.replace("desktop","pc"),"/images/common/icon-40-shrimp.svg"),"/assets/".concat(this.platform.replace("desktop","pc"),"/images/common/icon-40-mackerel.svg"),"/assets/".concat(this.platform.replace("desktop","pc"),"/images/common/icon-40-squid.svg"),"/assets/".concat(this.platform.replace("desktop","pc"),"/images/common/icon-40-crab.svg"),"/assets/".concat(this.platform.replace("desktop","pc"),"/images/common/icon-40-clam.svg"),"/assets/".concat(this.platform.replace("desktop","pc"),"/images/common/icon-40-pig.svg"),"/assets/".concat(this.platform.replace("desktop","pc"),"/images/common/icon-40-cow.svg"),"/assets/".concat(this.platform.replace("desktop","pc"),"/images/common/icon-40-chicken.svg"),"/assets/".concat(this.platform.replace("desktop","pc"),"/images/common/icon-40-buckwheat.svg"),"/assets/".concat(this.platform.replace("desktop","pc"),"/images/common/icon-40-wheat.svg"),"/assets/".concat(this.platform.replace("desktop","pc"),"/images/common/icon-40-bean.svg"),"/assets/".concat(this.platform.replace("desktop","pc"),"/images/common/icon-40-peanut.svg"),"/assets/".concat(this.platform.replace("desktop","pc"),"/images/common/icon-40-walnut.svg"),"/assets/".concat(this.platform.replace("desktop","pc"),"/images/common/icon-40-pine-nut.svg"),"/assets/".concat(this.platform.replace("desktop","pc"),"/images/common/icon-40-sulfurous-acids.svg"),"/assets/".concat(this.platform.replace("desktop","pc"),"/images/common/icon-40-peach.svg"),"/assets/".concat(this.platform.replace("desktop","pc"),"/images/common/icon-40-tomato.svg")]},allergyValues:function(){var t,i,e,n,a,o,s,l,d,r,u,c,h,v,m,p,f,g,D;return[null===(t=this.diet)||void 0===t?void 0:t.allergyEgg,null===(i=this.diet)||void 0===i?void 0:i.allergyMilk,null===(e=this.diet)||void 0===e?void 0:e.allergyShrimp,null===(n=this.diet)||void 0===n?void 0:n.allergyMackerel,null===(a=this.diet)||void 0===a?void 0:a.allergySquid,null===(o=this.diet)||void 0===o?void 0:o.allergyCrab,null===(s=this.diet)||void 0===s?void 0:s.allergyShellfish,null===(l=this.diet)||void 0===l?void 0:l.allergyPork,null===(d=this.diet)||void 0===d?void 0:d.allergyBeef,null===(r=this.diet)||void 0===r?void 0:r.allergyChicken,null===(u=this.diet)||void 0===u?void 0:u.allergyBuckwheat,null===(c=this.diet)||void 0===c?void 0:c.allergyWheat,null===(h=this.diet)||void 0===h?void 0:h.allergySoybean,null===(v=this.diet)||void 0===v?void 0:v.allergyPeanut,null===(m=this.diet)||void 0===m?void 0:m.allergyWalnut,null===(p=this.diet)||void 0===p?void 0:p.allergyPinenut,null===(f=this.diet)||void 0===f?void 0:f.allergySulfite,null===(g=this.diet)||void 0===g?void 0:g.allergyPeach,null===(D=this.diet)||void 0===D?void 0:D.allergyTomato]},hasNutrition:function(){var t;return!(null===(t=this.nutritionValues)||void 0===t?void 0:t.every((function(t){return null===t||void 0===t})))},nutritionNames:function(){return["탄수화물","식이섬유","당류","지방","포화지방","트랜스지방","단백질","콜레스테롤","나트륨"]},nutritionValues:function(){var t,i,e,n,a,o,s,l,d,r,u,c,h,v,m,p,f,g,D,y,S,E,M,C,k,Y,b,F,R,T,w,A,B,I,P,O;return[{value:null===(null===(t=this.diet)||void 0===t?void 0:t.nutritionTotalCarbohydrate)||""===(null===(i=this.diet)||void 0===i?void 0:i.nutritionTotalCarbohydrate)?"-":"".concat(this.diet.nutritionTotalCarbohydrate||0,"g"),percent:null===(null===(e=this.diet)||void 0===e?void 0:e.nutritionTotalCarbohydrateRate)||""===(null===(n=this.diet)||void 0===n?void 0:n.nutritionTotalCarbohydrateRate)?"":"".concat(this.diet.nutritionTotalCarbohydrateRate||0,"%")},{value:null===(null===(a=this.diet)||void 0===a?void 0:a.nutritionFiber)||""===(null===(o=this.diet)||void 0===o?void 0:o.nutritionFiber)?"-":"".concat(this.diet.nutritionFiber||0,"g"),percent:null===(null===(s=this.diet)||void 0===s?void 0:s.nutritionFiberRate)||""===(null===(l=this.diet)||void 0===l?void 0:l.nutritionFiberRate)?"":"".concat(this.diet.nutritionFiberRate||0,"%")},{value:null===(null===(d=this.diet)||void 0===d?void 0:d.nutritionSugars)||""===(null===(r=this.diet)||void 0===r?void 0:r.nutritionSugars)?"-":"".concat(this.diet.nutritionSugars||0,"g"),percent:null===(null===(u=this.diet)||void 0===u?void 0:u.nutritionSugarsRate)||""===(null===(c=this.diet)||void 0===c?void 0:c.nutritionSugarsRate)?"":"".concat(this.diet.nutritionSugarsRate||0,"%")},{value:null===(null===(h=this.diet)||void 0===h?void 0:h.nutritionTotalFat)||""===(null===(v=this.diet)||void 0===v?void 0:v.nutritionTotalFat)?"-":"".concat(this.diet.nutritionTotalFat||0,"g"),percent:null===(null===(m=this.diet)||void 0===m?void 0:m.nutritionTotalFatRate)||""===(null===(p=this.diet)||void 0===p?void 0:p.nutritionTotalFatRate)?"":"".concat(this.diet.nutritionTotalFatRate||0,"%")},{value:null===(null===(f=this.diet)||void 0===f?void 0:f.nutritionSaturatedFat)||""===(null===(g=this.diet)||void 0===g?void 0:g.nutritionSaturatedFat)?"-":"".concat(this.diet.nutritionSaturatedFat||0,"g"),percent:null===(null===(D=this.diet)||void 0===D?void 0:D.nutritionSaturatedFatRate)||""===(null===(y=this.diet)||void 0===y?void 0:y.nutritionSaturatedFatRate)?"":"".concat(this.diet.nutritionSaturatedFatRate||0,"%")},{value:null===(null===(S=this.diet)||void 0===S?void 0:S.nutritionTransFat)||""===(null===(E=this.diet)||void 0===E?void 0:E.nutritionTransFat)?"-":"".concat(this.diet.nutritionTransFat||0,"g"),percent:null===(null===(M=this.diet)||void 0===M?void 0:M.nutritionTransFatRate)||""===(null===(C=this.diet)||void 0===C?void 0:C.nutritionTransFatRate)?"":"".concat(this.diet.nutritionTransFatRate||0,"%")},{value:null===(null===(k=this.diet)||void 0===k?void 0:k.nutritionProtein)||""===(null===(Y=this.diet)||void 0===Y?void 0:Y.nutritionProtein)?"-":"".concat(this.diet.nutritionProtein||0,"g"),percent:null===(null===(b=this.diet)||void 0===b?void 0:b.nutritionProteinRate)||""===(null===(F=this.diet)||void 0===F?void 0:F.nutritionProteinRate)?"":"".concat(this.diet.nutritionProteinRate||0,"%")},{value:null===(null===(R=this.diet)||void 0===R?void 0:R.nutritionCholesterol)||""===(null===(T=this.diet)||void 0===T?void 0:T.nutritionCholesterol)?"-":"".concat(this.diet.nutritionCholesterol||0,"mg"),percent:null===(null===(w=this.diet)||void 0===w?void 0:w.nutritionCholesterolRate)||""===(null===(A=this.diet)||void 0===A?void 0:A.nutritionCholesterolRate)?"":"".concat(this.diet.nutritionCholesterolRate||0,"%")},{value:null===(null===(B=this.diet)||void 0===B?void 0:B.nutritionSodium)||""===(null===(I=this.diet)||void 0===I?void 0:I.nutritionSodium)?"-":"".concat(this.diet.nutritionSodium||0,"mg"),percent:null===(null===(P=this.diet)||void 0===P?void 0:P.nutritionSodiumRate)||""===(null===(O=this.diet)||void 0===O?void 0:O.nutritionSodiumRate)?"":"".concat(this.diet.nutritionSodiumRate||0,"%")}]},hasGoodsInfo:function(){var t;return!(null===(t=this.goodsInfoValues)||void 0===t?void 0:t.every((function(t){return null===t||void 0===t||""===t})))},goodsInfoNames:function(){return["제품명","식품유형","생산자 및 소재지","제조일자","유통기한","보관방법","원재료 및 함량"]},goodsInfoValues:function(){var t,i,e,n,a,o,s;return[null===(t=this.diet)||void 0===t?void 0:t.specGoodsName,null===(i=this.diet)||void 0===i?void 0:i.specGoodsType,null===(e=this.diet)||void 0===e?void 0:e.specProducerLocation,null===(n=this.diet)||void 0===n?void 0:n.specManufacturingDate,null===(a=this.diet)||void 0===a?void 0:a.specExpirationDate,null===(o=this.diet)||void 0===o?void 0:o.specStorageMethod,null===(s=this.diet)||void 0===s?void 0:s.specOriginalMaterial]}},created:function(){this.requests.diet.ilGoodsDailyMealContsCd=this.dietId,this.cache?(this.diet=this.cache,this.fetches.diet=this.$FB_CODES.FETCHES.SUCCESS):this.requestDiet()},methods:{requestDiet:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var e;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,a["a"].getDiet(t.requests.diet,{willPrevCancel:!0});case 3:e=i.sent,t.$emit("fetched",e),t.diet=e,t.fetches.diet=t.$FB_CODES.FETCHES.SUCCESS,i.next=12;break;case 9:i.prev=9,i.t0=i["catch"](0),t.isNonHandlingException(i.t0)||(t.fetches.diet=t.$FB_CODES.FETCHES.ERROR);case 12:case"end":return i.stop()}}),i,null,[[0,9]])})))()},reload:function(t,i){switch(i){case"diet":this.fetches.diet=this.$FB_CODES.FETCHES.WAIT,this.requestDiet();break;default:console.warn("not allowed type...",i);break}}}}}}]);