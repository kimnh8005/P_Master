(function(e){function t(t){for(var s,i,o=t[0],c=t[1],_=t[2],l=0,d=[];l<o.length;l++)i=o[l],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,_||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(s=!1)}s&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},n={"pc/mypage/qna/index":0},r=[];function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var _=0;_<o.length;_++)t(o[_]);var u=c;r.push([147,"chunk-commons"]),a()})({147:function(e,t,a){e.exports=a("d64d")},8684:function(e,t,a){"use strict";var s=a("c9c0"),n=a.n(s);n.a},c9c0:function(e,t,a){},d64d:function(e,t,a){"use strict";a.r(t);var s=a("5530"),n=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.userSession.isLogin?a("main",{staticClass:"fb__mypage fb__mypage__inquiry"},[a("fb-header",{attrs:{type:"sub"}}),a("div",{ref:"scrollWrapper",staticClass:"product-layout__body"},[a("section",{staticClass:"product-layout__body__left"},[a("fb-mypage-menu")],1),a("section",{staticClass:"product-layout__body__right"},[a("h2",{staticClass:"fb__mypage__title"},[e._v("1:1 문의 내역")]),e.$FB_CODES.FETCHES.WAIT===e.fetches.qnaList?a("div",{staticClass:"fb__fetching"}):e.$FB_CODES.FETCHES.SUCCESS===e.fetches.qnaList?[a("div",{staticClass:"inquiry"},[a("div",{staticClass:"inquiry__search"},[a("h3",{staticClass:"inquiry__search__title"},[e._v("조회기간")]),a("div",{staticClass:"inquiry__search__form"},[a("fb-months",{on:{"change-date":e.changeDate}}),a("button",{staticClass:"form__submit",attrs:{type:"button",disabled:e.userActionDisabled},on:{click:e.searchDate}},[e._v("조회하기")])],1),a("button",{staticClass:"link-button",attrs:{type:"button",disabled:e.userActionDisabled},on:{click:function(t){return e.handleMoveMyPage(t,e.$APP_CONFIG.PAGE_URL.CUSTOMER_QNA)}}},[e._v("1:1 문의 하기")])]),a("div",{staticClass:"inquiry__filter"},[a("p",{staticClass:"inquiry__filter__label total"},[a("span",[e._v("총 문의 "),a("em",[e._v(e._s(e.summary.totalCount))])])]),a("p",{staticClass:"inquiry__filter__label register"},[a("span",[e._v("문의 접수 "),a("em",[e._v(e._s(e.summary.receptionCount))])])]),a("p",{staticClass:"inquiry__filter__label onGoing"},[a("span",[e._v("문의확인중 "),a("em",[e._v(e._s(e.summary.answerCheckingCount))])])]),a("p",{staticClass:"inquiry__filter__label done"},[a("span",[e._v("답변완료 "),a("em",[e._v(e._s(e.summary.answerCompletedCount))])])])]),e.$FB_CODES.PROCESSES.ING===e.processes.qnaList?a("div",{staticClass:"fb__fetching"}):[e.qnaList&&e.qnaList.length>0?a("ul",{staticClass:"inquiry__list"},e._l(e.qnaList,(function(t,s){return a("li",{key:"qnsList-"+s,staticClass:"inquiry__item"},[a("div",{staticClass:"item__header"},[a("div",{staticClass:"item__header__left"},[a("span",{staticClass:"item__header__date"},[e._v("문의일 "),a("em",[e._v(e._s(t.createDate))])]),a("p",{staticClass:"item__header__title"},[a("span",{staticClass:"division"},[e._v(e._s(t.onetooneTypeName))]),e._v(" "+e._s(t.title))])]),a("div",{staticClass:"item__header__right"},[["QNA_STATUS.RECEPTION"==t.status?a("span",{staticClass:"item__header__status"},[e._v("문의접수")]):"QNA_STATUS.ANSWER_CHECKING"==t.status?a("span",{staticClass:"item__header__status"},[e._v("답변확인중")]):"QNA_STATUS.ANSWER_COMPLETED"==t.status?a("span",{staticClass:"item__header__status complete"},[e._v("답변완료")]):a("span",{staticClass:"item__header__status"},[e._v(e._s(t.statusName))])],a("button",{staticClass:"item__header__toggle",class:{on:t.visible},attrs:{type:"button"},on:{click:function(a){return e.toggleVisible(t)}}},[e._v("상세내용 보이기/감추기")])],2)]),t.visible?a("div",{staticClass:"item__content"},[t.odid?a("div",{staticClass:"item__goods"},[a("figure",{staticClass:"item__goods__thumb",class:{goodsThumbnailDimmed:e.goodsThumbnailDimmed}},[a("a",{attrs:{href:e.$APP_CONFIG.PAGE_URL.GOODS_VIEW+"?goods="+t.ilGoodsId}},["GREENJUICE"==t.packType?a("img",{attrs:{src:e.$APP_CONFIG.IMAGES.GREEN_JUICE,alt:""}}):"EXHIBIT"==t.packType?a("img",{attrs:{src:e.$APP_CONFIG.IMAGES.FLAT_PRICE,alt:""}}):a("img",{attrs:{src:e.mergeImageHost(t.thumbnailPath),alt:""}})])]),a("div",{staticClass:"item__goods__info"},[a("span",{staticClass:"info__date"},[e._v("주문일자 "),a("em",[e._v(e._s(t.orderDate))])]),a("p",{staticClass:"info__title"},[a("a",{attrs:{href:e.$APP_CONFIG.PAGE_URL.GOODS_VIEW+"?goods="+t.ilGoodsId}},["NORMAL"!=t.packType?[e._v(e._s(t.packTitle))]:[e._v(e._s(t.goodsName))]],2)])])]):e._e(),a("p",{staticClass:"item__detail"},[e._v(e._s(t.question))]),a("div",{staticClass:"item__attache"},e._l(t.image,(function(t,s){return a("figure",{key:"itemImage-"+s},[a("img",{attrs:{src:e.mergeImageHost(t.imagePath),alt:""}})])})),0),a("div",{staticClass:"item__modify"},["QNA_STATUS.RECEPTION"==t.status?a("a",{attrs:{href:e.$APP_CONFIG.PAGE_URL.CUSTOMER_QNA+"?q="+t.csQnaId}},[e._v(" 수정")]):e._e()]),a("div",[t.answer&&t.answer.length>0?a("div",e._l(t.answer,(function(t,s){return a("div",{key:"answers-"+s,staticClass:"item__answer"},[a("div",{staticClass:"item__answer__header"},[a("span",{staticClass:"item__answer__name"},[e._v("상담원")]),a("span",{staticClass:"item__answer__date"},[e._v(e._s(t.answerDate))])]),a("div",{staticClass:"item__answer__text",domProps:{innerHTML:e._s(t.answer)}})])})),0):a("div",{staticClass:"item__answer empty"},[a("p",[e._v("등록된 답변이 없습니다.")])])])]):e._e()])})),0):a("div",{staticClass:"inquiry__list empty"},[a("p",[e._v("등록된 문의 내역이 없습니다.")])]),a("div",{staticClass:"inquiry__pagination"},[a("fb-pagination",{attrs:{pagination:e.pagination},on:{movePaging:e.movePaging}})],1)]],2)]:e.$FB_CODES.FETCHES.ERROR===e.fetches.qnaList?[a("error-layout",{attrs:{"error-type":"default"}},[[a("div",{staticClass:"fb__btn-wrap margin"},[a("button",{staticClass:"fb__btn-margin--white",attrs:{type:"button",tabindex:"0"},on:{click:function(t){return e.reload(t,"events")}}},[e._v("새로고침")]),a("button",{staticClass:"fb__btn-margin--green",attrs:{type:"button",tabindex:"0"},on:{click:function(t){return e.goToRoute(e.$APP_CONFIG.PAGE_URL.ROOT)}}},[e._v("홈으로")])])]],2)]:e._e()],2)]),a("fb-footer")],1):e._e()}),r=[],i=(a("a4d3"),a("e01a"),a("d28b"),a("99af"),a("7db0"),a("caad"),a("d81d"),a("b0c0"),a("d3b7"),a("ac1f"),a("2532"),a("3ca3"),a("5319"),a("841c"),a("ddb0"),a("2b3d"),a("96cf"),a("1da1")),o=a("ab18"),c=a("dcbe"),_=a("4402"),u=a("7fcc"),l=a("7e74"),d=a("9032"),p=a("9d0b"),m=a("863d"),f=a("3540"),h=a("0bf4"),v=a("c1df"),g=a.n(v),C={name:"mypage-qna",mixins:[h["a"],o["a"]],components:{fbHeader:c["a"],fbFooter:_["a"],fbMypageMenu:u["a"],fbPagination:l["a"],fbMonths:d["a"],fbAlert:p["a"],fbModal:m["a"],errorLayout:f["a"]},data:function(){return{fetches:{qnaList:this.$FB_CODES.FETCHES.WAIT},reservesTerm:0,reservesTermList:[{name:"3개월",value:0},{name:"6개월",value:1},{name:"12개월",value:2}],reservesDay:"​",summary:{totalCount:0,receptionCount:0,answerCheckingCount:0,answerCompletedCount:0},qnaList:null,date:{start:g()(new Date).subtract(3,"M").format("YYYY-MM-DD"),end:g()().format("YYYY-MM-DD")},dateChange:!0,answerCheckList:[]}},created:function(){var e=this;if(this.userSession.isLogin){this.getQueryString();this.$nextTick((function(){e.searchDate()}))}},computed:{reservesTermName:function(){var e=this;return this.reservesTermList.find((function(t){return t.value==e.reservesTerm})).name}},methods:{getQueryString:function(){return new URLSearchParams(window.location.search)},changeDate:function(e){var t=e.start,a=e.end;this.date.start=t,this.date.end=a,this.dateChange=!0},searchDate:function(){this.clearPage(),this.getQnaInfoByUser(),this.getQnaListByUser()},movePaging:function(e){this.pagination.currentPage=e,this.getQnaListByUser()},getQnaListByUser:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,s,n,r,i,o,c,_,u,l,d,p,m,f,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.processKeys.list,t.prev=1,e.checkInProcessing(a),t.next=5,e.$store.dispatch("network/request",{id:e.$options.name,url:"/user/buyer/getQnaListByUser",method:"post",willPrevCancel:!0,data:{startDate:e.date.start,endDate:e.date.end,page:e.pagination.currentPage,limit:e.pagination.goodsCount}});case 5:if(s=t.sent,n=s.data,s.code!=e.$FB_CODES.API.SUCCESS){t.next=55;break}e.fetches.qnaList=e.$FB_CODES.FETCHES.SUCCESS,e.pagination.totalCount=null===n||void 0===n?void 0:n.total,e.qnaList=[].concat(n.qnaList).map((function(e){return e.visible=!1,e})),r=!0,i=!1,o=void 0,t.prev=14,c=e.qnaList[Symbol.iterator]();case 16:if(r=(_=c.next()).done){t.next=40;break}for(u=_.value,l=!0,d=!1,p=void 0,t.prev=21,m=u.answer[Symbol.iterator]();!(l=(f=m.next()).done);l=!0)h=f.value,h.answer=e.unescapeHtml(h.answer);t.next=29;break;case 25:t.prev=25,t.t0=t["catch"](21),d=!0,p=t.t0;case 29:t.prev=29,t.prev=30,l||null==m.return||m.return();case 32:if(t.prev=32,!d){t.next=35;break}throw p;case 35:return t.finish(32);case 36:return t.finish(29);case 37:r=!0,t.next=16;break;case 40:t.next=46;break;case 42:t.prev=42,t.t1=t["catch"](14),i=!0,o=t.t1;case 46:t.prev=46,t.prev=47,r||null==c.return||c.return();case 49:if(t.prev=49,!i){t.next=52;break}throw o;case 52:return t.finish(49);case 53:return t.finish(46);case 54:e.waitProcesses(a);case 55:t.next=60;break;case 57:t.prev=57,t.t2=t["catch"](1),e.isNonHandlingException(t.t2)||(e.fetches.qnaList=e.$FB_CODES.FETCHES.ERROR,console.error("getQnaListByUser error...",t.t2.message));case 60:case"end":return t.stop()}}),t,null,[[1,57],[14,42,46,54],[21,25,29,37],[30,,32,36],[47,,49,53]])})))()},putQnaAnswerUserCheck:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,!(e.answer.length<1||t.answerCheckList.includes(e.csQnaId))){a.next=5;break}return a.abrupt("return",!1);case 5:t.answerCheckList.push(e.csQnaId);case 6:return a.next=8,t.$store.dispatch("network/request",{id:t.$options.name,url:"/user/buyer/putQnaAnswerUserCheck",method:"post",data:{csQnaId:e.csQnaId}});case 8:a.sent,a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](0),console.error("putQnaAnswerUserCheck error...",a.t0.message);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})))()},toggleVisible:function(e){e.visible=!e.visible,this.putQnaAnswerUserCheck(e)},unescapeHtml:function(e){return null==e?"":e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'").replace(/&#39;/g,"'")},getQnaInfoByUser:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.processKeys.info,t.prev=1,e.checkInProcessing(a),t.next=5,e.$store.dispatch("network/request",{id:e.$options.name,url:"/user/buyer/getQnaInfoByUser",method:"post",willPrevCancel:!0,data:{startDate:e.date.start,endDate:e.date.end,qnaType:"QNA_TP.ONETOONE"}});case 5:s=t.sent,s.code==e.$FB_CODES.API.SUCCESS&&(e.summary=null!==(n=s.data)&&void 0!==n?n:e.summary,e.waitProcesses(a)),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),e.isNonHandlingException(t.t0)||console.error("getQnaInfoByUser error...",t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},handleMoveMyPage:function(e,t){this.userSession.isLogin?(this.history(this.$data,e),window.location.href=t):this.openConfirm({message:this.$FB_MESSAGES.SYSTEM.CONFIRM_72,type:this.$FB_CODES.MODAL.KEYS.SIGN_IN,model:t})}}},b=C,y=(a("8684"),a("2877")),E=Object(y["a"])(b,n,r,!1,null,null,null),S=E.exports,w=a("8f7d"),O=a("79a5"),P=a("caf9");w["a"].use(O["a"]),w["a"].use(P["a"],{error:w["b"].IMAGES.NOT_FOUND,loading:w["b"].IMAGES.IMG_LOADING}),w["c"].components=Object(s["a"])({App:S},w["c"].components),w["d"].dispatch("init").then((function(){return new w["a"](w["c"])}))}});