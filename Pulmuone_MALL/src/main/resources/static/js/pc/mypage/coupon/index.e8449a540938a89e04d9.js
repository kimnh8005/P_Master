(function(e){function t(t){for(var o,i,u=t[0],c=t[1],r=t[2],_=0,l=[];_<u.length;_++)i=u[_],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&l.push(a[i][0]),a[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);p&&p(t);while(l.length)l.shift()();return s.push.apply(s,r||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],o=!0,u=1;u<n.length;u++){var c=n[u];0!==a[c]&&(o=!1)}o&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},a={"pc/mypage/coupon/index":0},s=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var r=0;r<u.length;r++)t(u[r]);var p=c;s.push([135,"chunk-commons"]),n()})({135:function(e,t,n){e.exports=n("65ca")},"2a0a":function(e,t,n){},"65ca":function(e,t,n){"use strict";n.r(t);var o=n("5530"),a=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.userSession.isLogin?n("main",{staticClass:"fb__mypage fb__mypage__coupon"},[n("fb-header",{attrs:{type:"sub"}}),n("div",{ref:"scrollWrapper",staticClass:"product-layout__body"},[n("section",{staticClass:"product-layout__body__left"},[n("fb-mypage-menu")],1),n("section",{staticClass:"product-layout__body__right"},[n("h2",{staticClass:"fb__mypage__title"},[e._v("쿠폰")]),n("div",{staticClass:"coupon"},[n("nav",{staticClass:"fb__tabs"},e._l(e.couponTabList,(function(t,o){return n("label",{key:"couponTabList-"+o,staticClass:"fb__tabs__list"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.request.status,expression:"request.status"}],attrs:{type:"radio"},domProps:{value:t.value,checked:e._q(e.request.status,t.value)},on:{change:function(n){return e.$set(e.request,"status",t.value)}}}),n("span",{staticClass:"fb__tabs__btn"},[e._v(e._s(t.name))])])})),0),e.loading.couponList?n("div",{staticClass:"coupon__cont"},["COUPON_STATUS.NOTUSE"==e.request.status?n("div",{staticClass:"coupon__brief"},[n("div",{staticClass:"brief__type"},e._l(e.couponTypeList,(function(t,o){return n("label",{key:"couponTypeList-"+o},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.request.couponType,expression:"request.couponType"}],attrs:{type:"radio"},domProps:{value:t.value,checked:e._q(e.request.couponType,t.value)},on:{change:function(n){return e.$set(e.request,"couponType",t.value)}}}),n("span",[e._v(e._s(t.name))])])})),0)]):n("div",{staticClass:"coupon__end"},[n("p",{staticClass:"fb__noticecaption"},[e._v("최근 6개월 내역만 조회 가능합니다.")])]),e.couponList&&e.couponList.length>0?[n("ul",{staticClass:"coupon__list"},e._l(e.couponList,(function(t,o){return n("li",{key:"couponList-"+o,staticClass:"coupon__item"},[n("div",{staticClass:"coupon__item__info"},[n("span",{staticClass:"info__type"},[["COUPON_TYPE.GOODS","COUPON_TYPE.SALEPRICE_APPPOINT"].includes(t.couponType)?[e._v("상품 쿠폰")]:e._e(),["COUPON_TYPE.CART"].includes(t.couponType)?[e._v("장바구니 쿠폰")]:e._e(),["COUPON_TYPE.SHIPPING_PRICE"].includes(t.couponType)?[e._v("배송비 쿠폰")]:e._e()],2),e.visibleBadge(t)?n("span",{staticClass:"info__only"},["Y"==t.usePcYn&&"Y"==t.useMobileWebYn?[e._v("웹전용")]:"Y"==t.usePcYn?[e._v("PC전용")]:"Y"==t.useMobileWebYn?[e._v("모바일전용")]:"Y"==t.useMobileAppYn?[e._v("앱전용")]:e._e()],2):e._e(),n("p",{staticClass:"info__detail"},[n("span",{staticClass:"info__discount"},[e.issueDetailType.USER_JOIN==t.issueDetailType?[n("span",[e._v("신규가입 혜택")])]:e.couponType.SHIPPING_PRICE==t.couponType?[t.percentageMaxDiscountAmount>0?[n("em",[e._v(e._s(e._f("price")(t.percentageMaxDiscountAmount)))]),n("span",[e._v("원")])]:[n("span",[e._v("무료배송")])]]:e.couponType.SALEPRICE_APPPOINT==t.couponType&&[e.issueDetailType.EVENT_AWARD,e.issueDetailType.TESTER,e.issueDetailType.RECOMMENDER,e.issueDetailType.USER_GRADE].includes(t.issueDetailType)?[n("span",[e._v(e._s(e._f("price")(t.discountValue))+"원 구매 혜택")])]:[n("em",[e._v(e._s(e._f("price")(t.discountValue)))]),n("span",[e.discountType.PERCENTAGE==t.discountType?[e._v("% OFF")]:e.discountType.FIXED==t.discountType?[e._v("원")]:e._e()],2)]],2),n("span",{staticClass:"info__name"},[e._v(e._s(t.displayCouponName))])]),n("div",{staticClass:"info__sub",class:t.couponCount>1?"multiple-coupons":""},[[e.issueDetailType.EVENT_AWARD,e.issueDetailType.TESTER].includes(t.issueDetailType)?e._e():[e.couponType.SHIPPING_PRICE==t.couponType?[n("p",[t.minPaymentAmount>0?[e._v(" "+e._s(e._f("price")(t.minPaymentAmount))+"원 이상 구매 시 ")]:e._e(),[t.percentageMaxDiscountAmount>0?[e._v(e._s(e._f("price")(t.percentageMaxDiscountAmount))+"원 할인")]:t.minPaymentAmount>0?[e._v("무료배송")]:e._e()]],2)]:e.couponType.SALEPRICE_APPPOINT==t.couponType?[t.discountValue>0?n("p",[t.minPaymentAmount>0?[e._v(" "+e._s(e._f("price")(t.minPaymentAmount))+"원 이상 구매 시 ")]:e._e(),e._v(" "+e._s(e._f("price")(t.discountValue))+"원 할인 ")],2):e._e()]:[e.discountType.PERCENTAGE==t.discountType?[n("p",[t.minPaymentAmount>0?[e._v(e._s(e._f("price")(t.minPaymentAmount))+"원 이상 구매 시")]:e._e(),e._v(" "+e._s(t.discountValue)+"% 할인, 최대할인금액 "+e._s(e._f("price")(t.percentageMaxDiscountAmount))+"원")],2)]:e._e(),e.discountType.FIXED==t.discountType?[n("p",[t.minPaymentAmount>0?[e._v(e._s(e._f("price")(t.minPaymentAmount))+"원 이상 구매 시 ")]:e._e(),e._v(" "+e._s(e._f("price")(t.discountValue))+"원 할인")],2)]:e._e()]],n("p",[e._v("사용가능기간 "),n("em",[e._v(e._s(t.validityStartDate)+" ~ "+e._s(t.validityEndDate))])]),t.couponCount>1?n("span",{staticClass:"info__count"},[n("em",[e._v(e._s(t.couponCount))]),e._v("장 보유")]):e._e()],2)]),"COUPON_STATUS.NOTUSE"==e.request.status?n("button",{staticClass:"coupon__item__btn",attrs:{type:"button"},on:{click:function(n){return e.getCouponGoods(t.pmCouponId)}}},[e._v("적용 대상 보기")]):n("button",{staticClass:"coupon__item__btn",attrs:{type:"button",disabled:""}},[e._v(e._s(t.statusName))])])})),0),n("div",{staticClass:"coupon__pagination"},[n("fb-pagination",{attrs:{pagination:e.pagination},on:{movePaging:e.movePaging}})],1)]:[n("div",{staticClass:"coupon__list empty"},["COUPON_STATUS.NOTUSE"==e.request.status?n("p",[e._v("사용 가능한 쿠폰이 없습니다.")]):n("p",[e._v("지난 쿠폰이 없습니다.")])])]],2):e._e(),e.loading.couponList?n("div",{staticClass:"coupon__precaution"},[n("h3",{staticClass:"precaution__title"},[e._v("쿠폰 유의사항")]),e._m(0)]):e._e()])])]),n("fb-footer"),n("fb-modal",{attrs:{open:e.couponLayer.open,isCloseButton:!0,classes:"fb__modal__apply",isMaskBackground:!0,isBackgroundClose:!0},on:{"close-modal":e.closeLayer}},[n("h3",{staticClass:"apply__title"},[e._v("쿠폰 적용 대상")]),n("simplebar",{staticClass:"apply__wrapper",attrs:{"data-simplebar-auto-hide":"false"}},[n("div",{staticClass:"apply__cont"},[e.coverageList.coverage&&e.coverageList.coverage.length>0?e._l(e.coverageList.coverage,(function(t,o){return n("div",{key:"coverage-"+o,staticClass:"apply__wrap"},[n("h4",{staticClass:"apply__wrap__title"},[e._v("적용 "+e._s(e.coverageTypeName.find((function(e){return e.type==t.coverageType})).name))]),n("ul",{staticClass:"apply__list"},[e._l(t.coverageName,(function(t,o){return[t?n("li",{key:"coverage-list-"+o,staticClass:"apply__list__item"},[e._v(" "+e._s(t)+" ")]):e._e()]}))],2)])})):[n("div",{staticClass:"apply__wrap"},[n("h4",{staticClass:"apply__wrap__title"},[e._v("적용 대상")]),n("p",{staticClass:"apply__list all"},[e._v(" 전체 상품 ")])])],e.coverageList.notCoverage&&e.coverageList.notCoverage.length>0?e._l(e.coverageList.notCoverage,(function(t,o){return n("div",{key:"coverage-"+o,staticClass:"apply__wrap"},[n("h4",{staticClass:"apply__wrap__title"},[e._v("적용 제외 "+e._s(e.coverageTypeName.find((function(e){return e.type==t.coverageType})).name))]),n("ul",{staticClass:"apply__list"},[e._l(t.coverageName,(function(t,o){return[t?n("li",{key:"coverage-list-"+o,staticClass:"apply__list__item"},[e._v(" "+e._s(t)+" ")]):e._e()]}))],2)])})):e._e(),n("p",{staticClass:"fb__noticecaption"},[e._v("일부 상품의 경우 쿠폰 할인 적용대상에서 제외될 수 있습니다.")])],2)])],1)],1):e._e()}),s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"precaution__list"},[n("dl",{staticClass:"precaution__type"},[n("dt",[e._v("상품쿠폰")]),n("dd",[e._v("상품 단위로 상품 1개당 1개의 쿠폰 사용 가능합니다.")])]),n("dl",{staticClass:"precaution__type"},[n("dt",[e._v("장바구니 쿠폰")]),n("dd",[e._v("장바구니 주문금액에 대해 쿠폰 할인이 적용 됩니다.")])]),n("dl",{staticClass:"precaution__type"},[n("dt",[e._v("배송비 쿠폰")]),n("dd",[e._v(" 배송비 할인이 적용 되며 쿠폰에 설정된 금액 만큼 할인 적용 됩니다.")])]),n("dl",{staticClass:"precaution__type"},[n("dd",[e._v("골라담아 묶음할인 상품은 쿠폰 적용이 불가합니다.")])])])}],i=(n("d3b7"),n("ac1f"),n("3ca3"),n("841c"),n("ddb0"),n("2b3d"),n("96cf"),n("1da1")),u=n("dcbe"),c=n("4402"),r=n("7fcc"),p=n("7e74"),_=n("863d"),l=n("0bf4"),v=n("8d3b"),d=(n("f138"),{name:"mypage-coupon",mixins:[l["a"]],components:{fbHeader:u["a"],fbFooter:c["a"],fbMypageMenu:r["a"],fbPagination:p["a"],fbModal:_["a"],simplebar:v["a"]},data:function(){return{loading:{couponList:!1},request:{status:"COUPON_STATUS.NOTUSE",couponType:""},couponTabList:[{name:"사용가능 쿠폰",value:"COUPON_STATUS.NOTUSE"},{name:"사용만료 쿠폰",value:"COUPON_STATUS.USE"}],couponTypeList:[{name:"전체",value:""},{name:"상품 쿠폰",value:"COUPON_TYPE.GOODS"},{name:"장바구니 쿠폰",value:"COUPON_TYPE.CART"},{name:"배송비 쿠폰",value:"COUPON_TYPE.SHIPPING_PRICE"}],couponList:[],coverageList:{coverage:null,notCoverage:null},coverageTypeName:[{type:"",name:"대상"},{type:"APPLYCOVERAGE.GOODS",name:"상품"},{type:"APPLYCOVERAGE.BRAND",name:"브랜드"},{type:"APPLYCOVERAGE.DISPLAY_CATEGORY",name:"카테고리"},{type:"APPLYCOVERAGE.WAREHOUSE",name:"출고처"}],pagination:{id:"goods-pagination",currentPage:1,goodsCount:18,totalCount:3,disabled:!1},couponLayer:{open:!1}}},created:function(){if(this.userSession.isLogin){this.getQueryString();this.getCouponListByUser()}},mounted:function(){},watch:{"request.status":{handler:function(e,t){this.pagination.currentPage=1,this.loading.couponList=!1,this.request.couponType=this.couponTypeList[0].value,this.getCouponListByUser()}},"request.couponType":{handler:function(e,t){this.pagination.currentPage=1,this.getCouponListByUser()}}},computed:{couponType:function(){return this.$FB_CODES.GOODS.COUPON_TYPE},discountType:function(){return this.$FB_CODES.GOODS.COUPON_DISCOUNT_STATUS},issueDetailType:function(){return this.$FB_CODES.GOODS.COUPON_AUTO_ISSUE_TYPE}},methods:{getQueryString:function(){return new URLSearchParams(window.location.search)},visibleBadge:function(e){var t=!0;return("Y"==e.usePcYn&&"Y"==e.useMobileWebYn&&"Y"==e.useMobileAppYn||"Y"!=e.usePcYn&&"Y"!=e.useMobileWebYn&&"Y"!=e.useMobileAppYn||"Y"==e.usePcYn&&"Y"!=e.useMobileWebYn&&"Y"==e.useMobileAppYn)&&(t=!1),t},closeChangeDate:function(){this.couponLayer.open=!1},movePaging:function(e){this.pagination.currentPage=e,this.getCouponListByUser()},closeLayer:function(){this.coverageList.coverage=null,this.coverageList.notCoverage=null,this.couponLayer.open=!1},getCouponListByUser:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$store.dispatch("network/request",{method:"post",url:"/user/buyer/getCouponListByUser",data:{status:t.request.status,couponType:t.request.couponType,page:t.pagination.currentPage,limit:t.pagination.goodsCount}});case 3:o=n.sent,a=o.data,o.code==t.$FB_CODES.API.SUCCESS&&(t.pagination.totalCount=a.total,t.couponList=a.rows,t.loading.couponList=!0,e&&window.scrollTo(0,t.$refs["couponWrapper"].offsetTop)),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),console.error("getCouponListByUser error...",n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},getCouponGoods:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$store.dispatch("network/request",{method:"post",url:"/user/buyer/getCouponCoverage",data:{pmCouponId:e}});case 3:o=n.sent,o.code==t.$FB_CODES.API.SUCCESS&&(t.coverageList.coverage=o.data.coverage,t.coverageList.notCoverage=o.data.notCoverage,t.couponLayer.open=!0),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),console.error("getCouponGoods error...",n.t0.message);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}}}),y=d,f=(n("b285"),n("2877")),g=Object(f["a"])(y,a,s,!1,null,null,null),m=g.exports,C=n("8f7d");C["c"].components=Object(o["a"])({App:m},C["c"].components),C["d"].dispatch("init").then((function(){return new C["a"](C["c"])}))},b285:function(e,t,n){"use strict";var o=n("2a0a"),a=n.n(o);a.a}});