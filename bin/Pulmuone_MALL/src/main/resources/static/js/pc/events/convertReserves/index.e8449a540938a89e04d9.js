(function(e){function t(t){for(var i,r,s=t[0],l=t[1],c=t[2],d=0,h=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&h.push(o[r][0]),o[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(h.length)h.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(i=!1)}i&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},o={"pc/events/convertReserves/index":0},a=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;a.push([107,"chunk-commons"]),n()})({"06a6":function(e,t,n){"use strict";var i=n("a14a"),o=n.n(i);o.a},107:function(e,t,n){e.exports=n("efdc")},"44bc":function(e,t,n){"use strict";var i=n("45d9"),o=n.n(i);o.a},"45d9":function(e,t,n){},"461c":function(e,t,n){},"48eb":function(e,t,n){"use strict";var i=n("e14e"),o=n.n(i);o.a},"8fba":function(e,t,n){"use strict";var i=n("d050"),o=n.n(i);o.a},a14a:function(e,t,n){},a629:function(e,t,n){"use strict";var i=n("aa5d"),o=n.n(i);o.a},aa5d:function(e,t,n){},b638:function(e,t,n){"use strict";var i=n("461c"),o=n.n(i);o.a},d050:function(e,t,n){},e14e:function(e,t,n){},efdc:function(e,t,n){"use strict";n.r(t);var i=n("5530"),o=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"convert"},[n("member-layout",{attrs:{header:e.header}},[n("section",{staticClass:"convert-header"},[n("h3",{staticClass:"convert-title"},[e._v("#풀무원 통합 적립금 전환 서비스")]),n("p",{staticClass:"convert-description"},[e._v("기존 풀무원샵과 올가에서 적립한 적립금과 포인트를"),n("br"),e._v("#풀무원 적립금으로 전환하여 사용 할 수 있습니다.")])]),e.eventTerm?[n("form",{staticClass:"point-form"},[n("form-fieldset-wrap",{attrs:{legend:"구)풀무원샵 & 구)올가 포인트 조회"}},[n("input-text",{attrs:{inputId:"loginId",value:e.oldAccount.loginId,placeholder:e.placeholderId,disabled:e.authState},on:{updateText:function(t){return e.dataUpdate("loginId",t)}}}),n("input-text",{attrs:{inputId:"password",value:e.oldAccount.password,placeholder:e.placeholderPw,password:"",disabled:e.authState},on:{updateText:function(t){return e.dataUpdate("password",t)},inputEnter:e.setCurrentPoint}}),e.authState?n("p",{staticClass:"confirm-description"},[e._v(" 인증 되었습니다. ")]):e._e(),n("button-default",{attrs:{text:"조회하기",full:"",green:"",disabled:e.authState},on:{customClick:e.setCurrentPoint}}),e.authState?n("button-default",{attrs:{text:"다른 계정 조회하기",line:"",full:"",green:""},on:{customClick:e.setResetInfo}}):e._e()],1),e.authState?[n("form-fieldset-wrap",{staticClass:"convert",attrs:{legend:"#풀무원 통합 적립금 전환"}},[n("form-point-set",{attrs:{label:"구)풀무원샵 보유 적립금",checkLabel:"전액",inputId:"pulmuone",originalPoint:e.currentPulmuonePoint,childDisabled:""}}),n("form-point-set",{attrs:{label:"구)올가 보유 적립금",checkLabel:"전액",inputId:"orga",originalPoint:e.currentOrgaPoint},on:{deliveryPoint:e.deliveryPoint}})],1),n("p",{staticClass:"total-point"},[e._v(" 총 전환 예정 적립금 : "),n("strong",{staticClass:"price"},[e._v(e._s(e.totalPoint))]),e._v(" 원 ")]),n("notice-list-template",{attrs:{notice:e.notice}}),n("input-checkbox",{attrs:{label:"상기 유의사항을 확인하였으며, 적립금 전환에 동의합니다.",inputId:"agreeAll",value:e.agreeCheck},on:{updateChecked:e.setAgreeCheck}}),n("button-default",{attrs:{text:"전환하기",full:"",green:""},on:{customClick:e.setConvertPoint}})]:e._e()],2),e.fetching?n("div",{staticClass:"fb__fetching"}):e._e()]:[n("p",{staticClass:"convert-description"},[e._v("적립금 전환 이벤트가 종료되었습니다.")])]],2),n("fb-alert",{attrs:{open:e.alert.open,message:e.alert.message},on:{"close-alert":function(t){return e.closeAlert(t)}}}),n("fb-confirm",{attrs:{open:e.confirm.open,width:e.confirm.width,height:e.confirm.height,title:e.confirm.title,message:e.confirm.message,ok:e.confirm.ok,cancel:e.confirm.cancel,"is-background":e.confirm.isBackground,"is-background-close":e.confirm.isBackgroundClose},on:{"close-confirm":function(t){return e.closeConfirm(t)}}}),n("fb-modal",{attrs:{open:e.modals.signIn.open,classes:e.modals.signIn.classes,width:e.modals.signIn.width,height:e.modals.signIn.height,background:e.modals.signIn.background,"is-close-button":e.modals.signIn.isCloseButton},on:{"close-modal":function(t){return e.closeModal("signIn")}}},[[n("sign-in-modal",{attrs:{type:e.$FB_CODES.SIGN_IN.TYPE_NON_USER_ORDER},on:{"non-user-order":function(t){return e.handleNonUserOrder(t)},"sign-in-finished":function(t){return e.handleSignInFinished(t)},"sign-in-close-modal":function(t){return e.closeModal("signIn")}}})]],2)],1)}),a=[],r=(n("a9e3"),n("ac1f"),n("5319"),n("498a"),n("ade3")),s=(n("c1df"),n("2f62")),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"member-wrap"},[e.isDesktop?n("header",[n("a",{staticClass:"logo",attrs:{href:e.$APP_CONFIG.PAGE_URL.ROOT}},[n("img",{attrs:{src:e.$APP_CONFIG.IMAGES.LOGO,alt:"#풀무원"}})])]):e.isMobile?n("fb-mobile-header",{attrs:{title:e.header.title,buttons:e.header.buttons,actions:e.header.actions},on:{"handle-back":function(t){return e.handleBack(t)}}}):e._e(),e._t("default")],2)},c=[],u=n("8e32"),d={name:"member-layout",components:{fbMobileHeader:u["a"]},props:{header:{type:Object,default:{}}},data:function(){return{}}},h=d,p=(n("06a6"),n("2877")),f=Object(p["a"])(h,l,c,!1,null,"7e116c77",null),m=f.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("fieldset",{staticClass:"form-fieldset"},[n("legend",[e._v(" "+e._s(e.legend)+" ")]),e._t("default")],2)},b=[],S={name:"formFieldsetWrap",props:{legend:{type:String,default:""}}},v=S,_=(n("a629"),Object(p["a"])(v,g,b,!1,null,null,null)),C=_.exports,P=n("653c"),E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"checkbox",class:e.size},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.model.value,expression:"model.value"}],attrs:{type:"checkbox",id:e.inputId,disabled:e.disabled},domProps:{checked:Array.isArray(e.model.value)?e._i(e.model.value,null)>-1:e.model.value},on:{change:[function(t){var n=e.model.value,i=t.target,o=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&e.$set(e.model,"value",n.concat([a])):r>-1&&e.$set(e.model,"value",n.slice(0,r).concat(n.slice(r+1)))}else e.$set(e.model,"value",o)},e.inputChange]}}),n("span",[e._v(e._s(e.label))])])},k=[],I={name:"inputCheckbox",props:{inputId:{type:String,default:""},size:{type:String,default:""},value:{type:Boolean,default:!1},label:{type:String,default:""},disabled:{type:Boolean,default:!1}},data:function(){return{model:{value:!1}}},watch:{value:{immediate:!0,handler:function(e){this.model.value=e}}},methods:{inputChange:function(){this.$emit("updateChecked",this.model.value)}}},A=I,O=(n("b638"),Object(p["a"])(A,E,k,!1,null,null,null)),y=O.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-point"},[n("label",{staticClass:"form-point-title",attrs:{for:e.inputId}},[e._v(" "+e._s(e.label)+" ")]),n("input-text",{ref:"pointInput",attrs:{inputId:"text-"+e.inputId,value:e.stringCurrent,disabled:e.childDisabled},on:{updateText:e.onChangePoint}}),n("input-checkbox",{attrs:{inputId:"check-"+e.inputId,value:e.isChecked,label:e.checkLabel,size:"medium",disabled:e.childDisabled},on:{updateChecked:e.onChecked}})],1)},T=[],x={name:"formPointSet",components:{inputText:P["a"],inputCheckbox:y},props:{inputId:{type:String,default:""},label:{type:String,default:""},checkLabel:{type:String,default:""},childDisabled:{type:Boolean,default:!1},minPoint:{type:Number,default:0},originalPoint:{type:Number,default:0}},data:function(){return{currentPoint:0,stringCurrent:0,isChecked:!0}},watch:{originalPoint:{immediate:!0,handler:function(e){this.currentPoint=String(e),this.isChecked=!0}},currentPoint:{immediate:!0,handler:function(e){this.stringCurrent=this.setCommas(e),this.$refs.pointInput&&(this.$refs.pointInput.model.value=this.setCommas(e))}}},methods:{setCommas:function(e){return String(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},onChangePoint:function(e){var t=Number(e.replace(/[^0-9.]/g,""));this.$refs.pointInput.model.value=this.setCommas(t),Number(t)<this.minPoint?(this.isChecked=!1,this.$emit("deliveryPoint",this.minPoint)):Number(t)>this.originalPoint?(this.isChecked=!0,this.currentPoint=this.originalPoint,this.$refs.pointInput.model.value=this.setCommas(this.originalPoint),this.$emit("deliveryPoint",this.originalPoint)):Number(t)===this.originalPoint?(this.isChecked=!0,this.$emit("deliveryPoint",t)):(this.isChecked=!1,this.$emit("deliveryPoint",t))},onChecked:function(e){this.isChecked=e,this.$refs.pointInput.model.value=this.setCommas(this.originalPoint),this.$emit("deliveryPoint",this.originalPoint),this.$emit("deliveryCheck",this.isChecked)}}},$=x,w=(n("44bc"),Object(p["a"])($,M,T,!1,null,null,null)),N=w.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"btn",class:{full:e.full,line:e.line,green:e.green},attrs:{type:"button",tabindex:"0"},on:{click:e.buttonClick}},[e._v(" "+e._s(e.text)+" ")])},L=[],F={name:"buttonDefault",props:{text:{type:String,default:""},line:{type:Boolean,default:!1},full:{type:Boolean,default:!1},green:{type:Boolean,default:!1}},methods:{buttonClick:function(){this.$emit("customClick")}}},B=F,D=(n("8fba"),Object(p["a"])(B,R,L,!1,null,null,null)),G=D.exports,j=n("1fda"),U=n("9d0b"),Y=n("863d"),z=n("aa0e"),X=n("479c"),J=Object(s["a"])("convert"),V={components:{MemberLayout:m,formFieldsetWrap:C,inputText:P["a"],inputCheckbox:y,formPointSet:N,buttonDefault:G,noticeListTemplate:j["a"],fbModal:Y["a"],fbAlert:U["a"],fbConfirm:z["a"],signInModal:X["a"]},data:function(){return{header:{title:"적립금 전환 안내",buttons:["back"],actions:[]},placeholderId:"구)풀무원샵 / 구)올가 ID",placeholderPw:"구)풀무원샵 / 구)올가 비밀번호",oldAccount:{loginId:"",password:""},authState:!1,pulmuone:{point:"0"},orga:{point:"0"},totalPoint:"0",notice:{title:"전환 전 꼭! 확인하세요",option:["#풀무원 통합 적립금으로 전환된 적립금은 전환일로부터 1년간 사용 가능합니다.","전환 즉시 풀무원샵 적립금과 올가 포인트는 차감되며, 전환된 적립금은 다시 환원되지 않습니다.","#풀무원 최대 적립금액은 500,000원을 초과 할 수 없으므로 초과된 경우 적립금 사용 후 다시 적립 해주세요."]},agreeCheck:!1,modals:Object(r["a"])({},this.$FB_CODES.MODAL.KEYS.SIGN_IN,this.makeModal({classes:"sign-in-modal__wrapper",width:"100%",height:"100%",background:"#fafafa"})),fetching:!1,resetStep:!1,eventTerm:!1}},computed:Object(i["a"])({},J.mapGetters(["currentPulmuonePoint","currentOrgaPoint"])),watch:{currentPulmuonePoint:{immediate:!0,handler:function(){this.pulmuone.point=String(this.currentPulmuonePoint)}},currentOrgaPoint:{handler:function(){this.orga.point=String(this.currentOrgaPoint)}}},methods:Object(i["a"])({},J.mapActions(["fetchUserPoint","fetchConvertPoint","setResetPointInfo"]),{dataUpdate:function(e,t){this.oldAccount[e]="loginId"===e?t.trim():t},setCurrentPoint:function(){var e=this;this.fetching=!0,this.fetchUserPoint(this.oldAccount).then((function(t){switch(e.fetching=!1,t.messageEnum){case"SUCCESS":e.authState=!0;break;case"NEED_LOGIN":e.needLogin();break;case"LOGIN_FAIL":e.loginFail();break}e.totalPoint=e.setCommas(e.currentPulmuonePoint+e.currentOrgaPoint)}))},deliveryPoint:function(e){this.orga.point=String(e),this.totalPoint=this.setCommas(Number(this.pulmuone.point)+Number(e))},setCommas:function(e){return String(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},setAgreeCheck:function(e){this.agreeCheck=e},setConvertPoint:function(){var e=this;if(this.agreeCheck)if(this.agreeCheck&&0===Number(this.pulmuone.point+this.orga.point))this.openAlert(this.$FB_MESSAGES.SYSTEM.ALERT_297);else if(this.agreeCheck){this.fetching=!0;var t=Object(i["a"])({},this.oldAccount,{pulmuonePoint:Number(this.pulmuone.point),orgaPoint:Number(this.orga.point)});this.fetchConvertPoint(t).then((function(t){switch(e.fetching=!1,t.messageEnum){case"SUCCESS":e.openAlert(e.$FB_MESSAGES.SYSTEM.ALERT_277),e.resetStep=!0;break;case"NEED_LOGIN":e.needLogin();break;case"LOGIN_FAIL":e.loginFail();break;case"PARTIAL_DEPOSIT_OVER_LIMIT":var n=e.setCommas(t.data.pointPartialDeposit);e.exceedConvertPoint(n),e.resetStep=!0;break;case"DEPOSIT_POINT_EXCEEDED":e.exceedConvertPoint("0"),e.resetStep=!0;break;case"MAXIMUM_DEPOSIT_POINT_EXCEEDED":e.exceedConvertPoint("0"),e.resetStep=!0;break;case"ASIS_OVER_POINT":e.openAlert(e.$FB_MESSAGES.SYSTEM.ALERT_276),e.resetStep=!0;break;case"ASIS_API_ERROR":e.openAlert(e.$FB_MESSAGES.SYSTEM.ALERT_276),e.resetStep=!0;break;case"ASIS_POINT_ZERO":e.openAlert(e.$FB_MESSAGES.SYSTEM.ALERT_276),e.resetStep=!0;break;default:e.openAlert(e.$FB_MESSAGES.ERROR.DEFAULT);break}}))}else this.openAlert(this.$FB_MESSAGES.SYSTEM.ALERT_23);else this.openAlert(this.$FB_MESSAGES.SYSTEM.ALERT_298)},loginFail:function(){this.openAlert(this.$FB_MESSAGES.SYSTEM.ALERT_01)},needLogin:function(){this.openConfirm({message:this.$FB_MESSAGES.SYSTEM.CONFIRM_84,type:"sign-in"})},exceedConvertPoint:function(e){this.openAlert(this.replaceTemplateString(this.$FB_MESSAGES.SYSTEM.ALERT_301,{N:e}))},setResetInfo:function(){var e="",t=!1;this.oldAccount.loginId=e,this.oldAccount.password=e,this.authState=t,this.setResetPointInfo()},closeAlert:function(){this.resetStep&&(this.setResetInfo(),this.resetStep=!1),this.alert.open=!1},closeConfirm:function(e){var t=this.confirm;if(t){switch(t.type){case"sign-in":e.value&&this.openModal("sign-in");break;default:console.warn("not found type...",t.type);break}this.resetConfirm()}},handleSignInFinished:function(e){this.closeModal("sign-in")}})},W=V,H=(n("48eb"),Object(p["a"])(W,o,a,!1,null,"93b89960",null)),K=H.exports,Z=n("633d"),q=n("79a5");Z["a"].use(q["a"]),Z["c"].components=Object(i["a"])({App:K},Z["c"].components),Z["d"].dispatch("init").then((function(){return new Z["a"](Z["c"])}))}});