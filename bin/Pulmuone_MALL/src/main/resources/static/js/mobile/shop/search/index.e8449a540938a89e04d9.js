(function(e){function t(t){for(var s,c,l=t[0],n=t[1],o=t[2],h=0,f=[];h<l.length;h++)c=l[h],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&f.push(i[c][0]),i[c]=0;for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);u&&u(t);while(f.length)f.shift()();return a.push.apply(a,o||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],s=!0,l=1;l<r.length;l++){var n=r[l];0!==i[n]&&(s=!1)}s&&(a.splice(t--,1),e=c(c.s=r[0]))}return e}var s={},i={"mobile/shop/search/index":0},a=[];function c(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=s,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)c.d(r,s,function(t){return e[t]}.bind(null,s));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],n=l.push.bind(l);l.push=t,l=l.slice();for(var o=0;o<l.length;o++)t(l[o]);var u=n;a.push([97,"chunk-commons"]),r()})({6017:function(e,t,r){"use strict";var s=r("9934e"),i=r.n(s);i.a},97:function(e,t,r){e.exports=r("b0df")},"9934e":function(e,t,r){},b0df:function(e,t,r){"use strict";r.r(t);var s=r("5530"),i=(r("e260"),r("e6cf"),r("cca6"),r("a79d"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",{staticClass:"fb__shopSearch"},[r("section",{staticClass:"search"},[r("header",{staticClass:"search__header"},[r("h2",{staticClass:"fb__hidden"},[e._v(" search ")]),r("fb-search",{ref:"search-header-form",staticClass:"search__header__form",attrs:{open:!0,keyword:e.searchResult.word,actions:["back"]},on:{"handle-back":e.pageBack}})],1),r("nav",{staticClass:"search__nav"},[e.searchRespons?r("div",{staticClass:"fb__tabs"},e._l(e.search.mallType,(function(t,s){return r("label",{key:s+t.code,staticClass:"fb__tabs__list"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.search.category,expression:"search.category"}],class:{disabled:!t.count||"0"==t.count},attrs:{type:"radio",name:"searchTab"},domProps:{value:t.code,checked:e._q(e.search.category,t.code)},on:{click:function(t){return t.preventDefault(),e.changeMall.apply(null,arguments)},change:function(r){return e.$set(e.search,"category",t.code)}}}),r("span",{staticClass:"fb__tabs__btn"},[e._v(e._s(t.name)),t.count&&"0"!=t.count?r("span",{staticClass:"fb__tabs__count"},[e._v(e._s(t.count))]):e._e()])])})),0):e._e()]),e.$FB_CODES.FETCHES.WAIT===e.fetches.search?r("div",{staticClass:"fb__fetching"}):e.$FB_CODES.FETCHES.SUCCESS===e.fetches.search?[r("div",{staticClass:"search__filterBox"},[r("label",{staticClass:"search__soldOut"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.search.soldOut,expression:"search.soldOut"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.search.soldOut)?e._i(e.search.soldOut,null)>-1:e.search.soldOut},on:{change:function(t){var r=e.search.soldOut,s=t.target,i=!!s.checked;if(Array.isArray(r)){var a=null,c=e._i(r,a);s.checked?c<0&&e.$set(e.search,"soldOut",r.concat([a])):c>-1&&e.$set(e.search,"soldOut",r.slice(0,c).concat(r.slice(c+1)))}else e.$set(e.search,"soldOut",i)}}}),r("span",[e._v(" 품절상품 제외 ")])]),r("button",{staticClass:"search__filterBtn fb__filter-btn",class:{active:e.searchResult.filterIs},attrs:{type:"button",disabled:e.isDisabledFilter},on:{click:function(t){e.filterLayerState=!0}}},[e._v("필터")])]),e.searchResult.filterIs&&e.searchResult.filterList.length?r("div",{staticClass:"search__filterList"},[r("ul",{staticClass:"fb__filter-list"},e._l(e.searchResult.filterList,(function(t,s){return r("li",{key:t.name+s,staticClass:"fb__filter-list__item"},[e._v(" "+e._s(t.name)+" "),r("button",{staticClass:"fb__filter-list__delete",attrs:{type:"button"},on:{click:function(r){return e.filterDel(t,r)}}},[e._v("삭제")])])})),0),r("button",{staticClass:"search__filterList__clear",attrs:{type:"button"},on:{click:e.filterAllDel}},[e._v("초기화")])]):e._e(),r("div",{staticClass:"search__top"},[r("div",{staticClass:"search__total"},[e._v("총 "),r("span",{class:[e.search.category.replace(".","_")]},[e._v(e._s(e.searchResult.total))]),e._v("개")]),r("div",{staticClass:"search__listType"},[r("div",{staticClass:"search__listType__btn"},[r("label",{staticClass:"search__listType__list"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.search.views,expression:"search.views"}],attrs:{type:"radio"},domProps:{value:["wide"],checked:e._q(e.search.views,["wide"])},on:{change:function(t){return e.$set(e.search,"views",["wide"])}}}),r("span",[e._v(" 리스트 ")])]),r("label",{staticClass:"search__listType__photo"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.search.views,expression:"search.views"}],attrs:{type:"radio"},domProps:{value:["normal"],checked:e._q(e.search.views,["normal"])},on:{change:function(t){return e.$set(e.search,"views",["normal"])}}}),r("span",[e._v(" 포토 ")])])]),r("div",{staticClass:"search__listType__sort"},[r("fb-select-box",{attrs:{classes:"full",rows:e.sortList},scopedSlots:e._u([{key:"option",fn:function(t){var s=t.row;return[r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.search.sorts,expression:"search.sorts"}],staticClass:"blind",attrs:{type:"radio",name:"select-box"},domProps:{value:s.value,checked:e._q(e.search.sorts,s.value)},on:{change:function(t){return e.$set(e.search,"sorts",s.value)}}}),r("span",[e._v(e._s(s.name))])])]}}])},[e._v(" "+e._s(e.selectedSort)+" ")])],1)])]),r("div",{staticClass:"search__result"},[e.searchResult.goodsResultList&&e.searchResult.goodsResultList.length?r("div",{staticClass:"search__result__productWrap"},[r("fb-product",{attrs:{viewType:e.search.views,"mall-type":e.search.category,"product-list":e.searchResult.goodsResultList,PageCd:"P_MO_SerKwd",ContentCd:e.queryString.get("searchword")}}),e.searchResult.total>=e.pagination.goodsCount?r("infinite-loading",{ref:"infiniteLoading",on:{infinite:e.infiniteHandler}},[r("div",{attrs:{slot:"no-more"},slot:"no-more"}),r("div",{attrs:{slot:"no-results"},slot:"no-results"}),r("div",{attrs:{slot:"error"},slot:"error"})]):e._e()],1):r("div",{staticClass:"search__result--noItem"},[e.search.searchComplete&&e.searchResult.filterIs?[e._v(" 선택된 필터에 대한 검색결과가 없습니다.​"),r("br"),e._v(" 다른 필터를 선택해 보세요.​ ")]:[r("span",[e._v("'"+e._s(e.searchResult.word)+"' ")]),e._v("에 대한"),r("br"),e._v(" 검색결과가 없습니다. ")]],2)]),r("div",{staticClass:"search__filter",class:{"search__filter--show":e.filterLayerState}},[r("div",{staticClass:"search__filter__dimmed",on:{click:function(t){e.filterLayerState=!1}}}),r("div",{staticClass:"filter"},[r("div",{staticClass:"filter__header"},[r("h2",{staticClass:"filter__header__title"},[e._v("필터")]),r("button",{staticClass:"filter__header__close",attrs:{type:"button"},on:{click:function(t){e.filterLayerState=!1}}},[e._v("닫기")])]),e._l(e.searchRespons,(function(t,s,i){return r("div",{key:i+t,staticClass:"filter__box ",class:"filter__type__checkbox"},[t.length?[r("button",{staticClass:"filter__title",class:e.searchResult.filterVisible[s]?"":"filter__title--close",attrs:{type:"button"},on:{click:function(t){return e.filterVisible(s)}}},[e._v(" "+e._s(t[0].title)+" ")]),e.searchResult.filterVisible[s]?r("div",{staticClass:"filter__inner"},e._l(t,(function(t,i){return r("label",{key:i+t.name},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchResult.filter[s],expression:"searchResult.filter[name]"}],attrs:{type:"checkbox"},domProps:{value:t.code,checked:Array.isArray(e.searchResult.filter[s])?e._i(e.searchResult.filter[s],t.code)>-1:e.searchResult.filter[s]},on:{change:function(r){var i=e.searchResult.filter[s],a=r.target,c=!!a.checked;if(Array.isArray(i)){var l=t.code,n=e._i(i,l);a.checked?n<0&&e.$set(e.searchResult.filter,s,i.concat([l])):n>-1&&e.$set(e.searchResult.filter,s,i.slice(0,n).concat(i.slice(n+1)))}else e.$set(e.searchResult.filter,s,c)}}}),r("span",[e._v(e._s(t.name))])])})),0):e._e()]:e._e()],2)})),r("div",{staticClass:"filter__box"},[r("button",{staticClass:"filter__title",class:e.searchResult.filterVisible["price"]?"":"filter__title--close",attrs:{type:"button"},on:{click:function(t){return e.filterVisible("price")}}},[e._v(" 가격 ")]),e.searchResult.filterVisible["price"]?r("div",{staticClass:"filter__inner"},[r("div",{staticClass:"price"},[r("div",{staticClass:"price__min"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.numericOption.view.min,expression:"numericOption.view.min"}],ref:"priceMin",attrs:{type:"tel",placeholder:"최소가격",options:e.numericOption},domProps:{value:e.numericOption.view.min},on:{input:[function(t){t.target.composing||e.$set(e.numericOption.view,"min",t.target.value)},function(t){return e.getOnlyPrice(t,"min")}]}})]),r("div",{staticClass:"price__max"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.numericOption.view.max,expression:"numericOption.view.max"}],ref:"priceMax",attrs:{type:"tel",placeholder:"최대가격",options:e.numericOption},domProps:{value:e.numericOption.view.max},on:{input:[function(t){t.target.composing||e.$set(e.numericOption.view,"max",t.target.value)},function(t){return e.getOnlyPrice(t,"max")}]}})]),r("div",{staticClass:"price__apply"},[r("button",{attrs:{type:"button"},on:{click:e.priceApply}},[e._v("적용")])])])]):e._e()])],2)])]:e.$FB_CODES.FETCHES.ERROR===e.fetches.search?[r("error-layout",{attrs:{"error-type":"default"}},[[r("div",{staticClass:"fb__btn-wrap margin"},[r("button",{staticClass:"fb__btn-margin--white",attrs:{type:"button",tabindex:"0"},on:{click:function(t){return e.reload(t)}}},[e._v("새로고침")]),r("button",{staticClass:"fb__btn-margin--green",attrs:{type:"button",tabindex:"0"},on:{click:function(t){return e.goToRoute(e.$APP_CONFIG.PAGE_URL.ROOT)}}},[e._v("홈으로")])])]],2)]:e._e()],2),r("fb-footer"),r("fb-alert",{attrs:{message:e.alert.message,open:e.alert.open,buttonText:e.alert.buttonText,sendData:e.sendData},on:{"close-alert":e.closeAlert}})],1)}),a=[],c=(r("a4d3"),r("e01a"),r("d28b"),r("99af"),r("4de4"),r("7db0"),r("c740"),r("c975"),r("a15b"),r("a434"),r("b0c0"),r("d3b7"),r("ac1f"),r("25f0"),r("3ca3"),r("5319"),r("841c"),r("1276"),r("498a"),r("ddb0"),r("2b3d"),r("96cf"),r("1da1")),l=r("2909"),n=r("53ca"),o=r("4e43"),u=r("629b"),h=r("523c"),f=r("533e"),d=r("face"),p=r("e166"),m=r.n(p),g=r("3540"),v=r("0bf4"),_=r("f18a"),b=r("4646"),y={name:"find",mixins:[v["a"],_["a"],b["a"]],components:{fbSearch:o["a"],fbFooter:u["a"],fbProduct:h["a"],fbSelectBox:f["a"],fbAlert:d["a"],InfiniteLoading:m.a,errorLayout:g["a"]},data:function(){return{fetches:{search:this.$FB_CODES.FETCHES.WAIT},sendData:null,alert:{message:null,open:!1},numericOption:{decimalPlaces:0,maximumValue:9999999,minimumValue:0,view:{min:"",max:""}},filterLayerState:!1,sortList:[{name:"인기순",value:"POPULARITY"},{name:"신상품순",value:"NEW "},{name:"낮은가격순",value:"LOW_PRICE"},{name:"높은가격순",value:"HIGH_PRICE"},{name:"할인율높은순",value:"HIGH_DISCOUNT_RATE"}],search:{category:"MALL_DIV.PULMUONE",soldOut:!1,filterBtn:!1,views:["normal"],sorts:"POPULARITY",url:"",load:!1,mallType:null,searchComplete:!1},searchResult:{total:"0",word:"",filter:{},saveIs:!1,filterIs:!1,filterList:[],filterVisible:[],allFilter:{},goodsResultList:null},pagination:{currentPage:1,goodsCount:20},searchRespons:null,isPageLoaded:!1}},created:function(){var e=this,t=this.getQueryString();this.search.url=t.toString(),this.searchResult.word=t.get("searchword"),this.search.category=t.get("mall")?t.get("mall"):"MALL_DIV.PULMUONE",this.getHistory?this.filterInit():(this.pagination.currentPage=1,this.requestTerms());var r=this.getViewType();r&&(this.search.views=r),this.$nextTick((function(){e.isPageLoaded=!0}))},mounted:function(){},watch:{numericOption:{handler:function(e,t){this.searchResult.filter.price.min=""!=e.view.min?parseInt(this.toOnlyNumber(e.view.min)):"",this.searchResult.filter.price.max=""!=e.view.max?parseInt(this.toOnlyNumber(e.view.max)):""},deep:!0},"search.soldOut":{handler:function(e,t){this.isPageLoaded&&this.requestGoods()}},"searchResult.filter":{handler:function(e,t){var r=this;this.searchResult.filterList=[],this.searchResult.url="";var s=this.getQueryString();if(this.search.load){var i=function(e){if(r.searchResult.filter[e].length>0||s.get("minPrice")||s.get("maxPrice")){if(r.searchResult.filterIs=!0,"object"==Object(n["a"])(r.searchResult.filter[e]))if(Array.isArray(r.searchResult.filter[e]))if(r.searchResult.filter[e].length>0){s.set(e,r.searchResult.filter[e].join("%"));var t=!0,i=!1,a=void 0;try{for(var c,l=function(){var t,s=c.value,i=null===(t=r.searchRespons[e])||void 0===t?void 0:t.find((function(e){return e.code==s}));i&&r.searchResult.filterList.push(i)},o=r.searchResult.filter[e][Symbol.iterator]();!(t=(c=o.next()).done);t=!0)l()}catch(f){i=!0,a=f}finally{try{t||null==o.return||o.return()}finally{if(i)throw a}}}else s.delete(e);else s.get("minPrice")>=0&&s.get("maxPrice")>0&&r.searchResult.filterList.push({name:"".concat(r.toPrice(s.get("minPrice"))," ~ ").concat(r.toPrice(s.get("maxPrice")),"원"),category:"price",value:{minPrice:s.get("minPrice"),maxPrice:s.get("maxPrice")}});else if(r.searchResult.filter[e]){var u;s.set(e,r.searchResult.filter[e]);var h=null===(u=r.searchRespons[e])||void 0===u?void 0:u.find((function(t){return t.code==r.searchResult.filter[e]}));h&&r.searchResult.filterList.push(h)}}else s.delete(e),r.searchResult.filterList.length||(r.searchResult.filterIs=!1)};for(var a in this.searchResult.filter)i(a);history.replaceState(this.filterData(),null,"?"+s.toString()),this.search.url!==s.toString()&&this.search.load&&(this.search.url=s.toString(),this.requestGoods())}else{var c=function(e){if(r.searchResult.filter[e].length>0||s.get("minPrice")||s.get("maxPrice"))if(r.searchResult.filterIs=!0,"object"==Object(n["a"])(r.searchResult.filter[e]))if(Array.isArray(r.searchResult.filter[e])){var t=!0,i=!1,a=void 0;try{for(var c,l=function(){var t,s=c.value,i=null===(t=r.searchRespons[e])||void 0===t?void 0:t.find((function(e){return e.code==s}));i&&r.searchResult.filterList.push(i)},o=r.searchResult.filter[e][Symbol.iterator]();!(t=(c=o.next()).done);t=!0)l()}catch(f){i=!0,a=f}finally{try{t||null==o.return||o.return()}finally{if(i)throw a}}}else s.get("minPrice")>=0&&s.get("maxPrice")>0&&(r.searchResult.filterList.push({name:"".concat(r.toPrice(s.get("minPrice"))," ~ ").concat(r.toPrice(s.get("maxPrice")),"원"),category:"price",value:{minPrice:s.get("minPrice"),maxPrice:s.get("maxPrice")}}),r.search.url!==s.toString()&&r.search.load&&(r.search.url=s.toString(),r.requestGoods()));else if(r.searchResult.filter[e]){var u;s.set(e,r.searchResult.filter[e]),history.replaceState(r.filterData(),null,"?"+s.toString());var h=null===(u=r.searchRespons[e])||void 0===u?void 0:u.find((function(t){return t.code==r.searchResult.filter[e]}));h&&r.searchResult.filterList.push(h)}};for(var l in this.searchResult.filter)c(l)}},deep:!0},"search.views":{handler:function(e,t){this.setViewType(e)},deep:!0},"search.sorts":{handler:function(e,t){this.isPageLoaded&&this.requestGoods()}}},computed:{selectedSort:function(){var e=this;return this.sortList.find((function(t){return t.value===e.search.sorts})).name},isDisabledFilter:function(){var e=this.searchResult,t=e.filterIs,r=e.goodsResultList;return!t&&!(null===r||void 0===r?void 0:r.length)}},methods:{changeMall:function(e){this.goToRoute("".concat(this.$APP_CONFIG.PAGE_URL.SEARCH,"?searchword=").concat(encodeURIComponent(this.searchResult.word),"&mall=").concat(e.target.value))},urlSearch:function(){var e,t=this,r=this.getQueryString(),s=!0,i=!1,a=void 0;try{for(var c,n=this.getQueryString().keys()[Symbol.iterator]();!(s=(c=n.next()).done);s=!0){var o=c.value;switch(o){case"minPrice":this.searchResult.filter.price.min=r.get(o),this.numericOption.view.min=this.toPrice(r.get(o));break;case"maxPrice":this.searchResult.filter.price.max=r.get(o),this.numericOption.view.max=this.toPrice(r.get(o));break;case"searchword":this.searchResult.word=decodeURIComponent(r.get(o));break;case"page":break;case"mall":break;default:this.$set(this.searchResult.filter,o,[]),(e=this.searchResult.filter[o]).push.apply(e,Object(l["a"])(r.get(o).split("%")));break}}}catch(u){i=!0,a=u}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}this.$nextTick((function(){t.search.load=!0}))},filterInit:function(){var e=this,t=null;for(var r in this.searchRespons){if(function(){switch(r){case"category":t="카테고리";break;case"brand":t="브랜드";break;case"certification":t="인증제품";break;case"storage":t="보관방법";break;case"delivery":t="배송";break;case"benefit":t="혜택";break;case"mall":var s=["MALL_DIV.PULMUONE","MALL_DIV.ORGA","MALL_DIV.EATSLIM","MALL_DIV.BABYMEAL"];e.search.mallType=e.searchRespons[r],e.search.mallType.sort((function(e,t){return s.indexOf(e.code)<s.indexOf(t.code)?-1:s.indexOf(e.code)>s.indexOf(t.code)?1:0}));var i=!0,a=!1,c=void 0;try{for(var l,n=e.search.mallType[Symbol.iterator]();!(i=(l=n.next()).done);i=!0){var o=l.value;o.count}}catch(u){a=!0,c=u}finally{try{i||null==n.return||n.return()}finally{if(a)throw c}}delete e.searchRespons.mall;break;default:t="기타"}}(),Array.isArray(this.searchRespons[r])){this.$set(this.searchResult.allFilter,r,[]);var s=!0,i=!1,a=void 0;try{for(var c,l=this.searchRespons[r][Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var n=c.value;this.searchResult.allFilter[r].push(n.code)}}catch(u){i=!0,a=u}finally{try{s||null==l.return||l.return()}finally{if(i)throw a}}}for(var o in this.$set(this.searchResult.filter,r,[]),this.$set(this.searchResult.filterVisible,r,!0),this.$set(this.searchResult.filterVisible,"price",!0),this.searchRespons[r])this.searchRespons[r][o].category=r,this.searchRespons[r][o].title=t}this.$set(this.searchResult.filter,"price",{}),this.$set(this.searchResult.filter.price,"min",""),this.$set(this.searchResult.filter.price,"max",""),this.urlSearch()},getQueryString:function(){return new URLSearchParams(window.location.search)},filterVisible:function(e){this.searchResult.filterVisible[e]=!this.searchResult.filterVisible[e]},filterDel:function(e,t){var r=this.getQueryString();switch(this.search.load=!0,e.category){case"price":this.search.url=r.toString(),this.searchResult.filter[e.category].min="",this.searchResult.filter[e.category].max="",r.delete("minPrice"),r.delete("maxPrice"),history.replaceState(this.filterData(),null,"?"+r.toString());break;default:var s=this.searchResult.filter[e.category].findIndex((function(t){return t==e.code}));this.searchResult.filter[e.category].splice(s,1);break}},filterAllDel:function(e,t){var r=this.getQueryString();for(var s in this.search.load=!0,this.searchResult.filter)switch(s){case"price":this.search.url=r.toString(),this.searchResult.filter[s].min="",this.searchResult.filter[s].max="",r.delete("minPrice"),r.delete("maxPrice"),history.replaceState(this.filterData(),null,"?"+r.toString());break;default:this.searchResult.filter[s]=[];break}},getOnlyPrice:function(e,t){var r=e.target.value;r=r.replace(/([^0-9]*)/g,""),""!=r&&(parseInt(r)>this.numericOption.maximumValue&&(r=r.substring(0,this.numericOption.maximumValue.toString().length)),isNaN(parseInt(r))&&(r=""),r=parseInt(r).toLocaleString("ko-KR")),e.target.value=r,this.numericOption.view[t]=r},priceApply:function(){var e=this;if(""==this.$refs.priceMin.value||""==this.$refs.priceMax.value)return this.alert.message=this.$FB_MESSAGES.SYSTEM.ALERT_237,this.sendData=""==this.$refs.priceMin.value?"priceMin":"priceMax",this.alert.open=!0,!1;if(this.searchResult.filter.price.min>=this.searchResult.filter.price.max)return this.alert.message=this.$FB_MESSAGES.SYSTEM.ALERT_224,this.sendData="priceMin",this.alert.open=!0,!1;var t=this.getQueryString();if(this.searchResult.filterIs=!0,this.searchResult.filter.price.min!=t.get("minPrice")||this.searchResult.filter.price.max!=t.get("maxPrice")){t.set("minPrice",this.searchResult.filter.price.min),t.set("maxPrice",this.searchResult.filter.price.max),history.replaceState(this.filterData(),null,"?"+t.toString());var r=this.searchResult.filterList.findIndex((function(e){return"price"==e.category}));r>=0?this.searchResult.filterList[r].name="".concat(t.get("minPrice").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")," ~ ").concat(t.get("maxPrice").toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"원"):this.searchResult.filterList.push({name:"".concat(t.get("minPrice").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")," ~ ").concat(t.get("maxPrice").toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"원"),category:"price",value:{minPrice:t.get("minPrice"),maxPrice:t.get("maxPrice")}}),this.search.load=!1,this.requestGoods(),this.$nextTick((function(){e.search.load=!0}))}},closeAlert:function(e){var t=e.sendData;this.alert.open=!1,"priceMin"==t?this.$refs.priceMin.focus():"priceMax"==t&&this.$refs.priceMax.focus()},requestTerms:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,s,i,a,c,l,n,o,u,h,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=e.getQueryString(),t.next=4,e.$store.dispatch("network/request",{method:"post",url:"/goods/search/getSearchGoodsList",data:{keyword:encodeURIComponent(r.get("searchword")),isSaveKeyword:!!decodeURIComponent(r.get("searchword")).trim()&&e.searchResult.saveIs,isFirstSearch:!0,page:e.pagination.currentPage?e.pagination.currentPage:1,limit:e.pagination.goodsCount,mallId:"MALL_DIV.PULMUONE"==e.search.category?"":e.search.category,excludeSoldOutGoods:!1,lev1CategoryId:r.get("category")?r.get("category"):[],benefitTypeIdList:r.get("benefit")?r.get("benefit").split("%"):[],brandIdList:r.get("brand")?r.get("brand").split("%"):[],deliveryTypeIdList:r.get("delivery")?r.get("delivery").split("%"):[],certificationTypeIdList:r.get("certification")?r.get("certification").split("%"):[],storageMethodIdList:r.get("storage")?r.get("storage").split("%"):[],minimumPrice:r.get("minPrice")?r.get("minPrice"):0,maximumPrice:r.get("maxPrice")?r.get("maxPrice"):9999999,sortCode:"POPULARITY"}});case 4:if(s=t.sent,i=s.data,s.code!=e.$FB_CODES.API.SUCCESS){t.next=46;break}if(e.fetches.search=e.$FB_CODES.FETCHES.SUCCESS,e.searchResult.total=i.count,a={},a.mall=i.filter.mall&&i.filter.mall.length?i.filter.mall:[],a.category=i.filter.category&&i.filter.category.length?i.filter.category:[],a.benefit=i.filter.benefit&&i.filter.benefit.length?i.filter.benefit:[],a.brand=i.filter.brand&&i.filter.brand.length?i.filter.brand:[],a.delivery=i.filter.delivery&&i.filter.delivery.length?i.filter.delivery:[],a.certification=i.filter.certification&&i.filter.certification.length?i.filter.certification:[],a.storage=i.filter.storage&&i.filter.storage.length?i.filter.storage:[],e.searchRespons=a,e.searchResult.goodsResultList=i.document,e.pagination.totalCount=i.count,!e.searchResult.goodsResultList){t.next=43;break}for(c=null,l=!0,n=!1,o=void 0,t.prev=25,u=a.mall[Symbol.iterator]();!(l=(h=u.next()).done);l=!0)f=h.value,c+=f.count;t.next=33;break;case 29:t.prev=29,t.t0=t["catch"](25),n=!0,o=t.t0;case 33:t.prev=33,t.prev=34,l||null==u.return||u.return();case 36:if(t.prev=36,!n){t.next=39;break}throw o;case 39:return t.finish(36);case 40:return t.finish(33);case 41:e.pagination.totalCount||c?e.search.searchComplete=!0:e.search.searchComplete=!1;case 43:e.$nextTick((function(){e.filterInit()})),t.next=47;break;case 46:throw s;case 47:t.next=53;break;case 49:t.prev=49,t.t1=t["catch"](0),e.fetches.search=e.$FB_CODES.FETCHES.ERROR,console.error("requestTerms error...",t.t1.message);case 53:case"end":return t.stop()}}),t,null,[[0,49],[25,29,33,41],[34,,36,40]])})))()},requestGoods:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var s,i,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,s=t.getQueryString(),r.next=4,t.$store.dispatch("network/request",{method:"post",url:"/goods/search/getSearchGoodsList",data:{keyword:encodeURIComponent(s.get("searchword")),isSaveKeyword:!!decodeURIComponent(s.get("searchword")).trim()&&t.searchResult.saveIs,isFirstSearch:!1,page:e?t.pagination.currentPage:1,limit:t.pagination.goodsCount,mallId:"MALL_DIV.PULMUONE"==t.search.category?"":t.search.category,excludeSoldOutGoods:t.search.soldOut,lev1CategoryId:t.searchResult.filter.category?t.searchResult.filter.category:[],benefitTypeIdList:t.searchResult.filter.benefit?t.searchResult.filter.benefit:[],brandIdList:t.searchResult.filter.brand?t.searchResult.filter.brand:[],deliveryTypeIdList:t.searchResult.filter.delivery?t.searchResult.filter.delivery:[],certificationTypeIdList:t.searchResult.filter.certification?t.searchResult.filter.certification:[],storageMethodIdList:t.searchResult.filter.storage?t.searchResult.filter.storage:[],minimumPrice:s.get("minPrice")?s.get("minPrice"):0,maximumPrice:s.get("maxPrice")?s.get("maxPrice"):9999999,sortCode:t.search.sorts}});case 4:if(i=r.sent,a=i.data,i.code!=t.$FB_CODES.API.SUCCESS){r.next=11;break}t.fetches.search=t.$FB_CODES.FETCHES.SUCCESS,e?a.count>0&&a.document.length>0?(t.searchResult.total=a.count,t.searchResult.goodsResultList=t.searchResult.goodsResultList.concat(a.document),e.loaded()):e.complete():(t.searchResult.goodsResultList=a.document,t.searchResult.total=a.count,t.pagination.currentPage=1,t.$refs["infiniteLoading"]&&t.$refs["infiniteLoading"].stateChanger.reset()),r.next=12;break;case 11:throw i;case 12:r.next=18;break;case 14:r.prev=14,r.t0=r["catch"](0),t.fetches.search=t.$FB_CODES.FETCHES.ERROR,console.error("requestGoods error...",r.t0.message);case 18:case"end":return r.stop()}}),r,null,[[0,14]])})))()},infiniteHandler:function(e){if(null!=this.searchResult.goodsResultList&&this.searchResult.goodsResultList.length<=this.searchResult.total){var t=this.getQueryString();this.pagination.currentPage=this.pagination.currentPage+1,history.replaceState(this.filterData(),null,"?"+t.toString()),this.requestGoods(e)}else e.complete()},pageBack:function(){var e=this.$refs["search-header-form"];e.$el.classList.contains("fb__search--fixed")?e.$el.classList.remove("fb__search--fixed"):history.back()},getViewType:function(){var e=sessionStorage.getItem("viewTypeMobile");return e?e.split(","):this.search.views},setViewType:function(e){sessionStorage.setItem("viewTypeMobile",e)},getIsSaveKeyword:function(){return null==sessionStorage.getItem("viewTypeMobile")||"true"===sessionStorage.getItem("isSaveKeywordMobile")},reload:function(e){this.fetches.search=this.$FB_CODES.FETCHES.WAIT,this.requestTerms()}}},R=y,S=(r("6017"),r("2877")),x=Object(S["a"])(R,i,a,!1,null,null,null),P=x.exports,w=r("dd69"),C=r("79a5"),L=r("caf9");w["a"].use(C["a"]),w["a"].use(L["a"],{error:w["b"].IMAGES.NOT_FOUND,loading:w["b"].IMAGES.IMG_LOADING}),w["c"].components=Object(s["a"])({App:P},w["c"].components),w["d"].dispatch("init").then((function(){return new w["a"](w["c"])}))}});