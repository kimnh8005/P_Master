(function(e){function t(t){for(var s,i,o=t[0],c=t[1],l=t[2],_=0,u=[];_<o.length;_++)i=o[_],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&u.push(a[i][0]),a[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);v&&v(t);while(u.length)u.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],s=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(s=!1)}s&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var s={},a={"mobile/mypage/event/index":0},r=[];function i(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=s,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var v=c;r.push([56,"chunk-commons"]),n()})({"4b87":function(e,t,n){"use strict";n.r(t);var s=n("5530"),a=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.userSession.isLogin?n("main",{staticClass:"fb__mypage "},[n("fb-header",{attrs:{type:"sub",title:"이벤트 참여 현황",buttons:["back","home","setting"]}}),n("div",{staticClass:"event"},[n("event-write",{attrs:{open:e.eventLayer.open,item:e.eventLayer.item},on:{"close-modal":e.closeEventLayer}}),n("div",{staticClass:"event__filter"},[n("p",[e._v(e._s(e.reservesDay)+"​")]),n("fb-select-box",{attrs:{classes:"full",rows:e.reservesTermList,disabled:e.userActionDisabled},scopedSlots:e._u([{key:"option",fn:function(t){var s=t.row;return[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.reservesTerm,expression:"reservesTerm"}],staticClass:"blind",attrs:{type:"radio",name:"select-box"},domProps:{value:s.value,checked:e._q(e.reservesTerm,s.value)},on:{change:function(t){e.reservesTerm=s.value}}}),n("span",[e._v(e._s(s.name))])])]}}],null,!1,2035434596)},[e._v(" "+e._s(e.reservesTermName)+" ")])],1),e.loading.list?[e.lists.length?n("div",{staticClass:"event__content"},[n("div",{staticClass:"event__notice"},[n("p",[n("a",{attrs:{href:e.$APP_CONFIG.PAGE_URL.CUSTOMER_NOTICES}},[e._v("당첨자 공지 보기")])])]),n("ul",{staticClass:"event__box"},e._l(e.lists,(function(t,s){return n("li",{key:s+"list",staticClass:"event__list"},[n("header",{staticClass:"event__header"},[n("h3",{staticClass:"event__title"},[e._v(" "+e._s(e.eventType[t.eventType].name)+" ")]),n("div",{staticClass:"event__badge"},["EVENT_TP.EXPERIENCE"==t.eventType?n("span",{staticClass:"event__badge--experience"},[e._v("체험단")]):e._e(),"IN_PROGRESS"==t.status?n("span",{staticClass:"event__badge--proceeding"},[e._v("진행중")]):n("span",{staticClass:"event__badge--end"},[e._v("종료")])])]),n("p",{staticClass:"event__name"},[n("a",{attrs:{href:e.eventType[t.eventType].link+t.evEventId}},[e._v(" "+e._s(t.title)+" ")])]),n("ul",{staticClass:"event__info"},[n("li",{staticClass:"event__term"},[n("span",{staticClass:"event__info__title"},[e._v("이벤트 기간")]),n("em",{staticClass:"event__number"},[e._v(e._s(t.startDate)+" ~ "+e._s(t.endDate))])]),[t.winnerInforDate&&"Y"==t.winnerExistYn?n("li",{staticClass:"event__experience"},[n("span",{staticClass:"event__info__title"},["EVENT_TP.EXPERIENCE"==t.eventType?[e._v("체험단")]:[e._v("당첨자")],e._v(" 발표 ")],2),n("em",{staticClass:"event__number"},[e._v(e._s(t.winnerInforDate))])]):e._e(),n("li",{staticClass:"event__successful"},[["EVENT_TP.ATTEND","EVENT_TP.MISSION","EVENT_TP.PURCHASE"].includes(t.eventType)?[n("span",{staticClass:"event__info__title"},[e._v("참여횟수")]),n("em",{staticClass:"event__number event__number__successful"},[e._v(e._s(t.stampCount)+" / "+e._s(t.stampMaxCount))])]:[n("span",{staticClass:"event__info__title"},["EVENT_TP.EXPERIENCE"==t.eventType?[e._v("선정")]:[e._v("당첨")],e._v("여부")],2),n("em",{staticClass:"event__experience__result",class:{"event__experience__result--winning":"Y"==t.userWinnerYn}},["Y"==t.userWinnerYn?["EVENT_TP.EXPERIENCE"==t.eventType?[e._v("선정")]:[e._v("당첨")]]:["EVENT_TP.EXPERIENCE"==t.eventType?[e._v("미선정")]:[e._v("미당첨")]],"INCOM_COMPLETE"==t.experienceOrderCode?n("span",{staticClass:"event__experience__order"},[e._v(" 상품 배송 예정 ")]):e._e()],2)]],2)]],2),"EVENT_TP.EXPERIENCE"==t.eventType?n("div",["ORDER_BEFORE"==t.experienceOrderCode?n("a",{staticClass:"event__goods",attrs:{href:e.$APP_CONFIG.PAGE_URL.GOODS_VIEW+"?goods="+t.experienceIlGoodsId}},[n("span",[e._v("체험단 상품 바로보기")])]):"Y"!=t.feedbackYn&&["DELIVERY_DOING","DELIVERY_COMPLETE"].includes(t.experienceOrderCode)?n("button",{staticClass:"event__goods write",attrs:{type:"button"},on:{click:function(n){return e.openEventLayer(t.feedback)}}},[n("span",[e._v("체험단 상품후기 작성")])]):"Y"==t.feedbackYn?n("button",{staticClass:"event__goods complete",attrs:{type:"button",disabled:""}},[n("span",[e._v("체험단 상품후기 작성완료")])]):e._e()]):e._e()])})),0),e.hasMoreData?n("infinite-loading",{ref:"infiniteLoading",attrs:{identifier:e.infiniteId},on:{infinite:e.infiniteHandler}},[n("div",{attrs:{slot:"no-more"},slot:"no-more"}),n("div",{attrs:{slot:"no-results"},slot:"no-results"}),n("div",{attrs:{slot:"error"},slot:"error"})]):e._e()],1):n("div",{staticClass:"event__noContent"},[n("p",[e._v("참여한 이벤트 내역이 없습니다.")])])]:n("div",{staticClass:"fb__fetching"})],2),n("fb-footer"),n("fb-dockbar"),n("fb-alert",{attrs:{open:e.alert.open,message:e.alert.message},on:{"close-alert":function(t){return e.closeAlert(t)}}}),n("fb-confirm",{attrs:{open:e.confirm.open,width:e.confirm.width,height:e.confirm.height,title:e.confirm.title,message:e.confirm.message,ok:e.confirm.ok,cancel:e.confirm.cancel,"is-background":e.confirm.isBackground,"is-background-close":e.confirm.isBackgroundClose},on:{"close-confirm":function(t){return e.closeConfirm(t)}}})],1):e._e()}),r=[],i=(n("99af"),n("7db0"),n("b0c0"),n("d3b7"),n("ac1f"),n("3ca3"),n("5319"),n("841c"),n("1276"),n("ddb0"),n("2b3d"),n("96cf"),n("1da1")),o=n("ade3"),c=n("d3a8"),l=n("8e32"),v=n("629b"),_=n("cbaa"),u=n("e166"),d=n.n(u),p=n("face"),f=n("5f72"),m=n("2479"),E=n("0bf4"),b=n("533e"),h=n("f6d0"),g=n("c1df"),C=n.n(g),T={name:"mypage-event",mixins:[E["a"],c["a"]],components:{fbHeader:l["a"],fbFooter:v["a"],fbDockbar:_["a"],InfiniteLoading:d.a,fbAlert:p["a"],fbConfirm:f["a"],fbModal:m["a"],fbSelectBox:b["a"],eventWrite:h["a"]},data:function(){var e;return e={reservesTerm:0},Object(o["a"])(e,"reservesTerm","0"),Object(o["a"])(e,"reservesTermList",[{name:"3개월",value:"0"},{name:"6개월",value:"1"},{name:"12개월",value:"2"}]),Object(o["a"])(e,"reservesDay","​"),Object(o["a"])(e,"eventLayer",{item:{},open:!1}),Object(o["a"])(e,"date",{startDate:"",endDate:""}),Object(o["a"])(e,"loading",{list:!1}),Object(o["a"])(e,"lists",[]),Object(o["a"])(e,"eventType",{"EVENT_TP.NORMAL":{name:"일반이벤트",link:"/events/reply?event="},"EVENT_TP.SURVEY":{name:"설문이벤트",link:"/events/survey?event="},"EVENT_TP.ATTEND":{name:"스탬프(출석)",link:"/events/stamp?event="},"EVENT_TP.MISSION":{name:"스탬프(미션)",link:"/events/stamp?event="},"EVENT_TP.PURCHASE":{name:"스탬프(구매)",link:"/events/stamp?event="},"EVENT_TP.ROULETTE":{name:"룰렛이벤트",link:"/events/roulette?event="},"EVENT_TP.EXPERIENCE":{name:"체험단이벤트",link:"/events/experience?event="}}),Object(o["a"])(e,"pagination",{id:"event-pagination",currentPage:1,goodsCount:20,totalCount:0,disabled:!1}),Object(o["a"])(e,"infiniteId",+new Date),e},created:function(){},mounted:function(){},watch:{reservesTerm:{handler:function(e,t){var n=new Date,s=3;switch(e){case"0":s=3;break;case"1":s=6;break;case"2":s=12;break;default:s=3}var a=this.processKeys.list;try{this.checkInProcessing(a),this.loading.list=!1,this.reservesDay="".concat(C()(n).subtract(s,"M").format("YYYY-MM-DD")," ~ ").concat(C()(n).format("YYYY-MM-DD")),this.infiniteId+=1,this.clearPage(),this.lists=[],this.getEventListFromMyPage()}catch(r){if(!this.isNonHandlingException(r))throw r}},immediate:!0}},computed:{reservesTermName:function(){var e=this;return this.reservesTermList.find((function(t){return t.value==e.reservesTerm})).name},hasMoreData:function(){var e=this.pagination,t=e.totalCount,n=e.goodsCount,s=e.currentPage;return t>n*s}},methods:{getQueryString:function(){return new URLSearchParams(window.location.search)},getEventListFromMyPage:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s,a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,s=t.reservesDay.replace(/ /gi,"").split("~"),n.next=4,t.$store.dispatch("network/request",{method:"post",url:"/user/buyer/getEventListFromMyPage",data:{startDate:s[0],endDate:s[1],page:t.pagination.currentPage,limit:t.pagination.goodsCount}});case 4:a=n.sent,a.code==t.$FB_CODES.API.SUCCESS&&(r=a.data,t.loading.list=!0,r.total>0&&r.list.length>0?(t.pagination.totalCount=r.total,t.lists=t.lists.concat(r.list),e&&e.loaded()):e&&e.complete(),t.waitProcesses(t.processKeys.list)),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),console.error("getEmployeeDiscount error...",n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},openEventLayer:function(e){e?(console.log(this.eventLayer),this.eventLayer.item=e,this.eventLayer.open=!0):this.openAlert(this.$FB_MESSAGES.ERROR.DEFAULT)},closeEventLayer:function(e){var t;(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.code)==this.$FB_CODES.API.SUCCESS?(this.eventLayer.item={},this.eventLayer.open=!1,location.reload()):"close"==(null===e||void 0===e?void 0:e.response)&&this.openConfirm({type:"cancel",message:this.$FB_MESSAGES.SYSTEM.CONFIRM_07})},closeConfirm:function(e){var t=e.value;if(t)switch(this.confirm.type){case"cancel":this.eventLayer.item={},this.eventLayer.open=!1;break}this.resetConfirm()},infiniteHandler:function(e){null!=this.lists&&this.lists.length<this.pagination.totalCount?(this.pagination.currentPage=this.pagination.currentPage+1,this.getEventListFromMyPage(e)):e.complete()}}},y=T,P=(n("fe5b"),n("2877")),O=Object(P["a"])(y,a,r,!1,null,null,null),N=O.exports,S=n("dd69"),I=n("caf9");S["a"].use(I["a"],{error:S["b"].IMAGES.NOT_FOUND,loading:S["b"].IMAGES.IMG_LOADING}),S["c"].components=Object(s["a"])({App:N},S["c"].components),S["d"].dispatch("init").then((function(){return new S["a"](S["c"])}))},56:function(e,t,n){e.exports=n("4b87")},9871:function(e,t,n){},fe5b:function(e,t,n){"use strict";var s=n("9871"),a=n.n(s);a.a}});