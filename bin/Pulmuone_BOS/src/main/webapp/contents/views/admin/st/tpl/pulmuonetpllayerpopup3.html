<!-- 템플릿 제목 -->
<div class="wrap-location" style="width: 900px">
    <h1 class="title">Pulmuone Layer Popup3</h1>
</div>

<!-- 템플릿 내용 -->
<div class="fb__tabSect" style="width: 900px">
    <!-- 메인 Tabs -->
    <nav class="fb__tabSect__nav">
        <ul class="fb__tabSect__tabs tabSect__tabs">
            <li class="tabs__tab">
                <a href="javascript:void(0)">기본 정보</a>
            </li>
            <li class="tabs__tab">
                <a href="javascript:void(0)">담당자 정보</a>
            </li>
            <li class="tabs__tab">
                <a href="javascript:void(0)">주소관리</a>
            </li>
            <li class="tabs__tab">
                <a href="javascript:void(0)">수수료 정보</a>
            </li>
            <li class="tabs__tab">
                <a href="javascript:void(0)">택배 정보</a>
            </li>
        </ul>
    </nav>

    <!-- 메인 선택 영역1 : 기본정보 -->
    <section id="primary" class="fb__tabSect__section tabSect__section">
        <nav class="tabSect__section__nav">
            <ul class="tabSect__section__tabs">
                <li class="tabs__tab">
                    <a href="javascript:void(0)">사업자 정보</a>
                </li>
                <li class="tabs__tab">
                    <a href="javascript:void(0)">입점사 정보</a>
                </li>
                <li class="tabs__tab">
                    <a href="javascript:void(0)">추가 정보</a>
                </li>
            </ul>
        </nav>
        <!-- 선택 영역 1-1 : 사업자 정보 -->
        <section id="사업자정보">
            <!-- 사업자 정보 폼 -->
            <form id="inputForm" name="inputForm" class="inputForm" method="post" enctype="multipart/form-data"
                onsubmit="return false;">
                <table class="datatable v-type">
                    <colgroup>
                        <col style="width: 20%" />
                        <col style="width: 30%" />
                        <col style="width: 20%" />
                        <col style="width: 30%" />
                    </colgroup>
                    <tbody>
                        <tr>
                            <th scope="row">
                                <label class="req-star-front" for="businessName">사업자명(상호명)</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" id="businessName" name="businessName" class="comm-input"
                                        maxlength="40" data-validator-required="true" required />
                                </div>
                            </td>
                            <th scope="row">
                                <label for="companyCeoName">대표자명</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" id="companyCeoName" name="companyCeoName" class="comm-input"
                                        maxlength="20" data-validator-required="true" required />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">
                                <label class="req-star-front" for="businessNumber">사업자번호</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" id="businessNumber" name="businessNumber" class="comm-input"
                                        maxlength="20" required />
                                </div>
                            </td>
                            <th scope="row">
                                <label for="corporationNumber">법인번호</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" id="corporationNumber" name="corporationNumber"
                                        class="comm-input" maxlength="20" required />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row" rowspan="3">
                                <span class="req-star-front">주소</span>
                            </th>
                            <td colspan="3">
                                <div class="complex-condition" style="width: 45%">
                                    <input type="text" id="zipCode" name="zipCode" class="comm-input disabled" disabled
                                        data-validator-required="true" required />
                                    <span id="buttonHide" class="table-btn" style="padding-left: 10px; width: 56px"
                                        onclick="">
                                        <button type="button" class="fb-btn btn-gray inputForm__button"
                                            style="width: 85px">
                                            우편번호찾기
                                        </button>
                                    </span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">
                                <div class="complex-condition">
                                    <input type="text" id="address" name="address" class="comm-input disabled" disabled
                                        data-validator-required="true" required />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">
                                <div class="complex-condition">
                                    <input type="text" id="detailAddress" name="detailAddress" class="comm-input"
                                        placeholder="상세주소 입력" maxlength="200" data-validator-required="true" required />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">
                                <label for="mailOrderNumber">통신판매업 번호</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" id="mailOrderNumber" name="mailOrderNumber" class="comm-input"
                                        maxlength="40" />
                                </div>
                            </td>
                            <th scope="row">
                                <label for="telNumber">전화번호</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" id="telNumber" name="telNumber" class="comm-input"
                                        maxlength="40" />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">
                                <label for="businessEmail">이메일</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="email" id="businessEmail" name="businessEmail" class="comm-input"
                                        maxlength="40" />
                                </div>
                            </td>
                            <th scope="row">
                                <label for="businessFax">팩스</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" id="businessFax" name="businessFax" class="comm-input"
                                        maxlength="100" />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">
                                <label for="businessKind">업태</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" id="businessKind" name="businessKind" class="comm-input"
                                        maxlength="40" />
                                </div>
                            </td>
                            <th scope="row">
                                <label for="businessSort">업종</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" id="businessSort" name="businessSort" class="comm-input"
                                        maxlength="100" />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">
                                <label for="etcContent">기타사항</label>
                            </th>
                            <td colspan="3">
                                <div class="complex-condition">
                                    <textarea name="etcContent" id="etcContent" class="inputForm__textarea" cols="30"
                                        rows="10" style="width: 100%"></textarea>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </form>
            <!-- 사업자 정보 폼 End  -->
        </section>
        <!-- 선택 영역 1-1 : 사업자 정보 End -->

        <!-- 선택 영역 1-2 : 입점사 정보 -->
        <section id="사업자정보">
            <!-- 입점사 정보 폼 -->
            <form class="inputForm" method="post" enctype="multipart/form-data" onsubmit="return false;">
                <table class="datatable v-type">
                    <colgroup>
                        <col style="width: 20%" />
                        <col style="width: 30%" />
                        <col style="width: 20%" />
                        <col style="width: 30%" />
                    </colgroup>
                    <tbody>
                        <tr>
                            <th scope="row">
                                <label class="req-star-front" for="">입점사명(상호명)</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="40" required />
                                </div>
                            </td>
                            <th scope="row">
                                <label for="">대표자명</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="20" required />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">
                                <label class="req-star-front" for="">사업자번호</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="20" required />
                                </div>
                            </td>
                            <th scope="row">
                                <label for="">법인번호</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="20" required />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row" rowspan="3">
                                <span class="req-star-front">주소</span>
                            </th>
                            <td colspan="3">
                                <div class="complex-condition" style="width: 45%">
                                    <input type="text" class="comm-input disabled" disabled required />
                                    <span id="buttonHide" class="table-btn" style="padding-left: 10px; width: 56px">
                                        <button type="button" class="fb-btn btn-gray inputForm__button"
                                            style="width: 85px">
                                            우편번호찾기
                                        </button>
                                    </span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">
                                <div class="complex-condition">
                                    <input type="text" class="comm-input disabled" disabled required />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" placeholder="상세주소 입력" maxlength="200"
                                        required />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">
                                <label for="">통신판매업 번호</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="40" />
                                </div>
                            </td>
                            <th scope="row">
                                <label for="">전화번호</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="40" />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">
                                <label for="">이메일</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="email" class="comm-input" maxlength="40" />
                                </div>
                            </td>
                            <th scope="row">
                                <label for="">팩스</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="100" />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">
                                <label for="">업태</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="email" class="comm-input" maxlength="40" />
                                </div>
                            </td>
                            <th scope="row">
                                <label for="">업종</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="100" />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">
                                <label for="">기타사항</label>
                            </th>
                            <td colspan="3">
                                <div class="complex-condition">
                                    <textarea class="inputForm__textarea" cols="30" rows="10"
                                        style="width: 100%"></textarea>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </form>
            <!-- 입점사 정보 폼 End  -->
        </section>
        <!-- 선택 영역 1-2 : 입점사 정보 End -->

        <!-- 선택 영역 1-3 : 추가 정보 -->
        <section id="추가정보">
            <!-- 추가 정보 폼 -->
            <form class="inputForm" method="post" enctype="multipart/form-data" onsubmit="return false;">
                <table class="datatable v-type">
                    <colgroup>
                        <col style="width: 20%" />
                        <col style="width: 30%" />
                        <col style="width: 20%" />
                        <col style="width: 30%" />
                    </colgroup>
                    <tbody>
                        <tr>
                            <th scope="row">
                                <label class="req-star-front" for="">사업자명(상호명)</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="40" required />
                                </div>
                            </td>
                            <th scope="row">
                                <label for="">대표자명</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="20" required />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">
                                <label class="req-star-front" for="">사업자번호</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="20" required />
                                </div>
                            </td>
                            <th scope="row">
                                <label for="">법인번호</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="20" required />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row" rowspan="3">
                                <span class="req-star-front">주소</span>
                            </th>
                            <td colspan="3">
                                <div class="complex-condition" style="width: 45%">
                                    <input type="text" class="comm-input disabled" disabled required />
                                    <span id="buttonHide" class="table-btn" style="padding-left: 10px; width: 56px"
                                        onclick="">
                                        <button type="button" class="fb-btn btn-gray inputForm__button"
                                            style="width: 85px">
                                            우편번호찾기
                                        </button>
                                    </span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">
                                <div class="complex-condition">
                                    <input type="text" class="comm-input disabled" disabled required />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" placeholder="상세주소 입력" maxlength="200"
                                        required />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">
                                <label for="">통신판매업 번호</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="40" />
                                </div>
                            </td>
                            <th scope="row">
                                <label for="">전화번호</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="40" />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">
                                <label for="">이메일</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="email" class="comm-input" maxlength="40" />
                                </div>
                            </td>
                            <th scope="row">
                                <label for="">팩스</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="100" />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">
                                <label for="">업태</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="email" class="comm-input" maxlength="40" />
                                </div>
                            </td>
                            <th scope="row">
                                <label for="">업종</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="100" />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">
                                <label for="">기타사항</label>
                            </th>
                            <td colspan="3">
                                <div class="complex-condition">
                                    <textarea class="inputForm__textarea" cols="30" rows="10"
                                        style="width: 100%"></textarea>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </form>
            <!-- 추가 정보 폼 End  -->
        </section>
        <!-- 선택 영역 1-3 : 추가 정보 -->
    </section>

    <!-- 메인 선택 영역 2 : 담당자정보 -->
    <section id="manager" class="fb__tabSect__section tabSect__section">
        <nav class="tabSect__section__nav">
            <ul class="tabSect__section__tabs">
                <li class="tabs__tab">
                    <a href="javascript:void(0)">담당자 정보</a>
                </li>
                <li class="tabs__tab">
                    <a href="javascript:void(0)">담당자 정보2</a>
                </li>
                <li class="tabs__tab">
                    <a href="javascript:void(0)">담당자 정보3</a>
                </li>
            </ul>
        </nav>
        <!-- 선택 영역 2-1 : 사업자 정보 -->
        <section>
            <!-- 사업자 정보 폼 -->
            <form class="inputForm" method="post" enctype="multipart/form-data" onsubmit="return false;">
                <table class="datatable v-type">
                    <colgroup>
                        <col style="width: 20%" />
                        <col style="width: 30%" />
                        <col style="width: 20%" />
                        <col style="width: 30%" />
                    </colgroup>
                    <tbody>
                        <tr>
                            <th scope="row">
                                <label class="req-star-front" for="">담당자(상호명)</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="40" required />
                                </div>
                            </td>
                            <th scope="row">
                                <label for="">대표자명</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="20" required />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">
                                <label class="req-star-front" for="">사업자번호</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="20" required />
                                </div>
                            </td>
                            <th scope="row">
                                <label for="">법인번호</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="20" required />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row" rowspan="3">
                                <span class="req-star-front">주소</span>
                            </th>
                            <td colspan="3">
                                <div class="complex-condition" style="width: 45%">
                                    <input type="text" class="comm-input disabled" disabled required />
                                    <span id="buttonHide" class="table-btn" style="padding-left: 10px; width: 56px">
                                        <button type="button" class="fb-btn btn-gray inputForm__button"
                                            style="width: 85px">
                                            우편번호찾기
                                        </button>
                                    </span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">
                                <div class="complex-condition">
                                    <input type="text" class="comm-input disabled" disabled required />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" placeholder="상세주소 입력" maxlength="200"
                                        required />
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </form>
            <!-- 사업자 정보 폼 End  -->
        </section>
        <!-- 선택 영역1 : 사업자 정보 End -->

        <!-- 선택 영역 2-2 : 입점사 정보 -->
        <section>
            <!-- 입점사 정보 폼 -->
            <form class="inputForm" method="post" enctype="multipart/form-data" onsubmit="return false;">
                <table class="datatable v-type">
                    <colgroup>
                        <col style="width: 20%" />
                        <col style="width: 30%" />
                        <col style="width: 20%" />
                        <col style="width: 30%" />
                    </colgroup>
                    <tbody>
                        <tr>
                            <th scope="row">
                                <label class="req-star-front" for="">담당자정보222222(상호명)</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="40" required />
                                </div>
                            </td>
                            <th scope="row">
                                <label for="">대표자명</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="20" required />
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">
                                <label class="req-star-front" for="">사업자번호</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="20" required />
                                </div>
                            </td>
                            <th scope="row">
                                <label for="">법인번호</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="20" required />
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </form>
            <!-- 입점사 정보 폼 End  -->
        </section>
        <!-- 선택 영역 2-2 : 입점사 정보 End -->

        <!-- 선택 영역 2-3 : 추가 정보 -->
        <section>
            <!-- 추가 정보 폼 -->
            <form class="inputForm" method="post" enctype="multipart/form-data" onsubmit="return false;">
                <table class="datatable v-type">
                    <colgroup>
                        <col style="width: 20%" />
                        <col style="width: 30%" />
                        <col style="width: 20%" />
                        <col style="width: 30%" />
                    </colgroup>
                    <tbody>
                        <tr>
                            <th scope="row">
                                <label class="req-star-front" for="">담당자명33(상호명)</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="40" required />
                                </div>
                            </td>
                            <th scope="row">
                                <label for="">대표자명</label>
                            </th>
                            <td>
                                <div class="complex-condition">
                                    <input type="text" class="comm-input" maxlength="20" required />
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </form>
            <!-- 추가 정보 폼 End  -->
        </section>
        <!-- 선택 영역 2-3 : 추가 정보 End -->
    </section>

    <!-- 메인 선택 영역3 : 주소관리 -->
    <section id="addressManager" class="fb__tabSect__section tabSect__section">
        주소관리
    </section>

    <!-- 메인 선택 영역4 : 수수료 정보 -->
    <section id="addressManager" class="fb__tabSect__section tabSect__section">
        주소관리
    </section>

    <!-- 메인 선택 영역5 : 택배 정보 -->
    <section id="addressManager" class="fb__tabSect__section tabSect__section">
        주소관리
    </section>

    <!-- 저장 버튼 -->
    <span class="btn-area">
        <button type="button" id="fnSave" class="fb-btn btn-point btn-l">
            저장
        </button>
    </span>
</div>



<!-- 테스트용 스크립트 -->
<script type="text/javascript">
    const popupTemplate = function popupTemplate() {
        // Constants
        const ACTIVE_CN = "active";

        // Template Elements
        const $document = $(document);
        const $mainTabList = $(".fb__tabSect__tabs");
        const $mainTabs = $(".fb__tabSect__tabs > .tabs__tab");
        const $mainSections = $(".fb__tabSect__section");

        // $maintabs가 결정되면 subTabs가 선택됨
        let $subTabList = null;
        let $subTabs = null;
        let $subSections = null;

        // 저장 버튼 눌렀을 때 데이터를 찾을 선택된 Form
        let $selectedForm = null;

        // 저장 버튼
        const $saveBtn = $("#fnSave");

        //샘플 데이터
        const sampleData = {
            address: "서울시 도봉구",
            businessEmail: "이메일",
            businessFax: "팩스",
            businessKind: "업태",
            businessName: "사업자명",
            businessNumber: "사업자번호",
            businessSort: "업종",
            companyCeoName: "대표명",
            corporationNumber: "범인번호",
            detailAddress: "네모아파트",
            etcContent: "기타사항 내용",
            mailOrderNumber: "통신판매업번호",
            telNumber: "전화번호",
            zipCode: "우편번호",
        };

        // 데이터 오브젝트
        const fbData = {
            //로딩
            fetches: {},

            //api요청 파라미터
            requests: {
                id: "testId",
            },

            //데이터
            data: {
                selectedMainTab: 0,
                selectedSubTab: 0,
                dummyData: {},
                basicInfo: {},
                managerInfo: {},
            },
        };

        /************************** Functions *******************************/

        //메인 탭 설정 함수
        function showMain() {
            const _idx = fbData.data.selectedMainTab;

            $mainTabs.each(function () {
                $(this).removeClass(ACTIVE_CN);
            });

            $mainTabs.eq(_idx).addClass(ACTIVE_CN);

            // 메인 섹션 렌더링
            $mainSections.hide();

            const $targetMain = $mainSections.eq(_idx);
            $targetMain.show();

            // 서브 탭 설정
            $subTabList = $targetMain.find(".tabSect__section__tabs");
            $subSections = $targetMain.find("section");

            if ($subTabList.length > 0 && $subSections.length > 0) {
                $subTabs = $subTabList.find("li");
                showSub();
            }
        }

        /*
      1. tab을 클릭하면
       x > active
       x > 밑에 section보여주기
       x > section 밑에 active
        > api연동해서 데이터담기
    */

        // 서브 탭 노출 함수
        function showSub() {
            const _idx = fbData.data.selectedSubTab;
            $subTabs.each(function () {
                $(this).removeClass(ACTIVE_CN);
            });
            $subTabs.eq(_idx).addClass(ACTIVE_CN);

            // 서브 섹션 렌더링
            $subSections.hide();

            const $targetSubSection = $subSections.eq(_idx);

            $targetSubSection.show();

            // 섹션 내 Form 찾기
            const $form = $targetSubSection.find("form");
            if ($form.length > 0) {
                $selectedForm = $form;

                // 데이터 요청
                fetchData();
            }
        }

        // 데이터 요청 함수
        function fetchData() {
            fbLoading(true);
            try {
                const parameter = fbData.requests.id;

                const response = sampleData;

                if (response && typeof response === "object") {
                    // 샘플 데이터 ajax처리
                    fbData.data.dummyData = response;
                    bindForm($selectedForm, response);
                    setTimeout(function () {
                        fbLoading(false);
                    }, 1000);
                }
            } catch (ex) {
                console.log("fetchData has exception...", ex);
            }
        }

        // 폼 바인딩 함수
        function bindForm($form, data) {
            if (!data) return;

            $form
                .find("input, textarea, select, radio, checkbox")
                .each(function () {
                    const $this = $(this);
                    const _name = $this.attr("name");

                    if ($this.is("textarea")) {
                        $this.val(data[_name]);
                    }

                    if ($this.is("select")) {
                        renderSelectBox($this, data[_name]);
                    }

                    if ($this.is("input")) {
                        switch ($this.attr("type")) {
                            case "text":
                            case "email":
                            case "password":
                            case "hidden":
                                $this.val(data[_name]);
                                break;
                            case "radio":
                                if ($this.val() == data[_name]) {
                                    $this.prop("checked", true);
                                }
                                break;
                            case "checkbox":
                                break;
                            case "file":
                                break;
                            default:
                                break;
                        }
                    }
                });
        }

        //저장 버튼 클릭시 formdata 생성
        function makeFormData() {
            const requestObj = {};
            const formData = $(this).serialize().split("&");

            // 모든 입력 값 데이터객체화
            formData.forEach(function (d) {
                const reg = d.split(/\=/);

                if (reg) {
                    const key = reg[0];
                    const value = reg[1];

                    requestObj[key] = decodeURIComponent(value);
                }
            });

            const isPass = validator(requestObj);

            if (isPass) {
                //검색 API연동
                return requestObj;
            } else {
                console.log("requestObj : ", requestObj);
                alert("필수값을 확인해주세요.");
            }
        }

        /**
         * 	유효성검사
         *  data-validator-required 필수값 여부 html 엘리먼트에 추가
         *  data-validator-reg 정규식 여부 필요한 경우 html 엘리먼트에 추가 없으면 빈 값만 체크
         */
        function validator(requestObj) {
            let result = true;
            for (let [key, value] of Object.entries(requestObj)) {
                const $target = $("[name=" + key + "]");
                let isRequired = $target.attr("data-validator-required");

                if (isRequired) {
                    if (value == "") {
                        result = false;
                    } else {
                        let isReg = $target.attr("data-validator-reg");
                        let makeReg = new RegExp(isReg, "g");

                        if (isReg && !makeReg.test(value)) {
                            result = false;
                        }
                    }
                }
            }

            return result;
        }

        /*****************************************************************/

        /************************** 이벤트 *******************************/

        // 이벤트 바인딩 함수
        function bindEvents() {
            // 메인 탭 선택 함수
            $document.on("click", ".fb__tabSect__tabs a", function (e) {
                const $this = $(this);
                const _idx = $this.parent().index();

                fbData.data.selectedMainTab = _idx;
                showMain();
            });

            // 서브 탭 선택 함수
            $document.on("click", ".tabSect__section__tabs a", function (e) {
                const $this = $(this);
                const _idx = $this.parent().index();
                fbData.data.selectedSubTab = _idx;

                showSub();
            });

            // 저장 버튼 클릭 이벤트
            $saveBtn.on("click", function (e) {
                //폼에서 데이터 가져오기

                const requsetObj = makeFormData.bind($selectedForm)();

                // for (var key in fbData.data.dummyData) {
                //   requsetObj[key] = $(`[name='${key}']`).val()
                // }

                console.log(requsetObj);
            });
        }

        /*****************************************************************/

        // 렌더링 함수
        // function render() {
        //   showMain()
        // }

        //Init 함수
        function init() {
            window.console.clear();
            showMain();
            bindEvents();
        }

        init();
    };

    popupTemplate();
</script>